<html>
<head>
<title>Event tests - Key properties</title>
<style type="text/css">
<!--

html,body {
	padding: 0px;
	margin: 0px;
}

-->
</style>

<script language="javascript">
<!--

window.onload = function () {
	document.body.onkeydown = register;
	document.body.onkeyup = register;
	document.body.onkeypress = register;

	//var x = document.forms[0].elements[0];

	var x = document.getElementById('textin');
	x.onkeydown = register;
	x.onkeyup = register;
	x.onkeypress = register;

}

function register(e)
{
	if (!e) e = window.event;
	var x = document.forms[1].elements;
	var printstring = e.type + '\n';

	for (var i=0;i<x.length;i++)
	{
		if (x[i].type != 'checkbox') continue;
		if (x[i].checked)
			printstring += x[i].name + ': ' + e[x[i].name] + '\n';
	}
	var kc = e.charCode || e.keyCode;
	printstring += 'fromCharCode(' + kc + '): ' + String.fromCharCode(kc) + '\n';

	x['log'].value += "------------\n" + printstring;
}


function getObj(name)
{
  if (document.getElementById)
  {
  	this.obj = document.getElementById(name);
	this.style = document.getElementById(name).style;
  }
  else if (document.all)
  {
	this.obj = document.all[name];
	this.style = document.all[name].style;
  }
  else if (document.layers)
  {
   	this.obj = document.layers[name];
   	this.style = document.layers[name];
  }
}
// -->
</script>

</head>

<body>

<h2>Key properties</h2>

<script language="javascript" type="text/javascript">
<!--
if (self.lastMod) document.write(lastMod());
// -->
</script>

<p class=hr>&nbsp;</p>

<p class="intro">On this page I test the existence of key properties.</p>

<p>I registered the keydown and keyup events on the document and on the first textarea.
The second textarea serves as a log. I didn't register keypress to keep the example simple.</p>

<form>
<p><textarea id='textin'></textarea></p>
</form>

<form>
<p>Log:<br>
<input type="checkbox" name="altKey" checked> altKey
<input type="checkbox" name="altLeft"> altLeft
<input type="checkbox" name="ctrlKey" checked> ctrlKey
<input type="checkbox" name="ctrlLeft"> ctrlLeft
<input type="checkbox" name="metaKey" checked> metaKey
<input type="checkbox" name="shiftKey" checked> shiftKey
<input type="checkbox" name="shiftLeft"> shiftLeft

<br>
<input type="checkbox" name="keyCode"> keyCode
<input type="checkbox" name="charCode"> charCode
<input type="checkbox" name="isChar"> isChar
<input type="checkbox" name="modifiers"> modifiers
<input type="checkbox" name="repeat"> repeat
<input type="checkbox" name="which"> which
<br>
<textarea name="log" rows=10 style="width: 500px;"></textarea>
<input type="button" value="Clear log"
	onclick="document.forms[1].elements['log'].value = ''">
</p>
</form>

</body>
</html>
