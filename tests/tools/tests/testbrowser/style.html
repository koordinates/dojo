<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>style and getAttribute/setAttribute tests</title>
<script type="text/javascript">

var inited = false;

function myload() {
    if (inited) return;
    inited = true;

   var div1 = document.getElementById('test1');
   var div2 = document.getElementById('test2');
   var str = "div1.style=" + div1.style + " div2.style=" + div2.style + "\n" +
       "div1.getAttribute('style')=" + div1.getAttribute('style') + " div2.getAttribute('style')=" + div2.getAttribute('style') + "\n" +
       "div1.className=" + div1.className + " div2.className=" + div2.className + "\n" +
       "div1.getAttribute('className')=" + div1.getAttribute('className') + ' typeof=' + (typeof div1.getAttribute('className')) + " div2.getAttribute('className')=" + div2.getAttribute('className') + "\n" +
       "div1.getAttribute('class')=" + div1.getAttribute('class') + " div2.getAttribute('class')=" + div2.getAttribute('class') + "\n" +
       "div1.missing=" + div1.missing + " div2.missing=" + div2.missing + "\n" +
       "div1.name=" + div1.name + " div2.name=" + div2.name + "\n" +
       "div1.getAttribute('missing')=" + div1.getAttribute('missing') + " div2.getAttribute('missing')=" + div2.getAttribute('missing') + "\n" +
       "div1.getAttribute('name')=" + div1.getAttribute('name') + " div2.getAttribute('name')=" + div2.getAttribute('name') + "\n" +

       '';
   // never works:
   /*
   div1.style = 'font: serif';
   div2.style = 'font: serif';
   */
   /*
   div1.setAttribute('style', 'font: serif');
   div2.setAttribute('style', 'font: serif');
   */
   /*
   div1.style.setProperty('font', 'serif', null);
   div2.style.setProperty('font', 'serif', null);
   */
   /*
   div1.style.setAttribute('font-size', '14');
   div2.style.setAttribute('font-size', '14');
   */
   div1.style.backgroundColor = 'black';
   div2.style.backgroundColor = 'black';

   if (div1.style.setProperty) div1.style.setProperty('background-color', 'red', null); else div1.style.setAttribute('backgroundColor', 'red');

   var v1 = div1.style.getPropertyValue ? div1.style.getPropertyValue('background-color') : div1.style.getAttribute('backgroundColor');
   var v2 = div2.style.getPropertyValue ? div2.style.getPropertyValue('background-color') : div2.style.getAttribute('backgroundColor');

   str += "after set: div1.getAttribute('style')=" + div1.getAttribute('style') + " div2.getAttribute('style')=" + div2.getAttribute('style') + "\n" +
       "div1.style.cssText=" + div1.style.cssText + " div2.style.cssText=" + div2.style.cssText + "\n" +
       "div1.style.fontSize=" + div1.style.fontSize + " div2.style.fontSize=" + div2.style.fontSize + "\n" +
       "div1.style.font=" + div1.style.font + " div2.style.font=" + div2.style.font + "\n" +
       "div1.style.backgroundColor=" + div1.style.backgroundColor + " div2.style.backgroundColor=" + div2.style.backgroundColor + "\n" +
       "v1=" + v1 + " v2=" + v2 + 
       '';

   alert(str);

   var atts = div2.attributes;
   alert(".whatever=" + div2.whatever + " .Whatever=" + div2.Whatever + " .fooBar=" + div2.fooBar + " ['foo-bar']=" + div2['foo-bar'] + "\n" +
         "a.whatever=" + atts.whatever + " a.Whatever=" + atts.Whatever + " a.fooBar=" + atts.fooBar + " a['foo-bar']=" + atts['foo-bar'] + "\n" +
	 "('whatever')=" + div2.getAttribute('whatever') + " ('Whatever')=" + div2.getAttribute('Whatever') + " ('WHATEVER')=" + div2.getAttribute('WHATEVER') + " ('foo-bar')=" + div2.getAttribute('foo-bar') + "\n" +
	 "long=" + div2.getAttribute('a12345678901234567890123456789') + " ('with_under')=" + div2.getAttribute('with_under') +
	 '');
}
</script>
</head>
<body onload="myload()" onclick="alert('inline body onclick')">

<div id="test1" style="color: blue">div with style, no class</div>

<div id="test2" class="foobar" Whatever='17' foo-bar='19' with_under='3' a12345678901234567890123456789='fred'>div with class, no style</div>

<hr />
<pre>
IE5.5:
    n.getAttribute('style') = object regardless of whether any inline
    n.style = object regardless of whether any inline
    n.className works, empty string if none
    n.getAttribute('class') always returns null
    n.getAttribute('className') works, empty string if none
    n.missing = undefined, regardless of whether standard
    n.getAttribute('missing') = null, regardless of whether standard

Mozilla:
    n.getAttribute('style') = string if one, null if none
    n.style = object regardless of whether any inline
    n.className works, empty string if none
    n.getAttribute('class') works, null if none
    n.getAttribute('className') always returns null
    n.missing = undefined, regardless of whether standard
    n.getAttribute('missing') = null, regardless of whether standard

Opera:
    n.getAttribute('style') = string if one, empty string if none
    n.style = object regardless of whether any inline
    n.className works, empty string if none
    n.getAttribute('class') works, empty string if none
    n.getAttribute('className') works, empty string if none
    n.missing = undefined, regardless of whether standard
    n.getAttribute('missing') = empty string, regardless of whether standard

Safari:
    (identical to Mozilla)
    n.getAttribute('style') = string if one, null if none
    n.style = object regardless of whether any inline
    n.className works, empty string if none
    n.getAttribute('class') works, null if none
    n.getAttribute('className') always returns null
    n.missing = undefined, regardless of whether standard
    n.getAttribute('missing') = null, regardless of whether standard

Conclusions:
   supporting n.style.cssText:                             IE, Mozilla, Opera
   set style by: 
       n.style = "color: red"                              none
       n.setAttribute('style', 'color: red')               Safari
       n.style.backgroundColor = 'red'                     IE, Mozilla, Opera, Safari
       n.style.setProperty('background-color','red',null)  Mozilla, Opera, Safari
       n.style.setAttribute('backgroundColor','red')       IE
   get style by:
       n.style.getPropertyValue('background-color')        Mozilla, Opera, Safari
       n.style.getAttribute('backgroundColor')             IE
   getting attributes (with xhtml with doc type)
     case-sensitive getAttribute:                            Opera (bug in Opera 7.10)
     case-insensitive getAttribute:                          Mozilla, IE, Safari
     expando attributes for non-standard atts:               Safari (case-insensitive), IE (case-sensitive, no hyphen)
     n.attributes('whatever') is cis and returns an Attr     Mozilla
     long attribute names work                               Mozilla, IE, Opera
     underscore attribute names work                         Mozilla, IE, Opera
</pre>
</body>
</html>
