<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>Basic DataGrid Test.</title>
<link type="text/css" rel="stylesheet" href="templates/HtmlToolbar.css"/>
<script type="text/javascript">
	djConfig = {isDebug: true};
	djConfig.debugAtAllCosts=true;  //BUG: Causes problem with Object supertype 
</script>
<script type="text/javascript" src="../../dojo.js"></script>
<script language="JavaScript" type="text/javascript">
    dojo.require("dojo.widget.DataGrid");
    dojo.require("dojo.widget.DataGridColumn");
	dojo.require("dojo.data.DataProvider");
   	dojo.hostenv.writeIncludes(); // this is a new line
</script>
</head>
<body>
<div dojoType="DataProvider" location="instance.xml" widgetId="tableData" type="dojo.data.xml.XMLDataProvider">  
    <div dojoType="DerivedAttribute" path="/users/user/positions/position/@value" value="../@quantity * ../@currentPrice"></div>
    <div dojoType="DerivedAttribute" path="/users/user/positions/position/@gains" value="../@quantity * (../@currentPrice - ../@pricePaid)"></div>
</div>
<p>Grid with all data columns (value and gains are calculated values):</p>
<div dojoType="DataGrid" widgetId="grid1" bindData="tableData" bindTo="/users/user[@selected = 'true']/positions/position" readonly="true" allowpaging="true" pagesize="5" navpos="3" allowpaging="true" showrowindex="true" showemptyrows="false" >
	<div dojoType="DataGridColumn" name="Symbol" bindTo="@symbol" editable="false" sortable="true" alignment="center" width="-1" underline="false" ></div>
	<div dojoType="DataGridColumn" name="Current Price" bindTo="@currentPrice" editable="false" alignment="center" width="-1" underline="false" ></div>
	<div dojoType="DataGridColumn" name="Quantity" bindTo="@quantity" editable="true" sortable="true" alignment="center" width="-1" underline="false" ></div>
	<div dojoType="DataGridColumn" name="Price Paid" bindTo="@pricePaid" editable="false" alignment="center" width="-1" underline="false" ></div>
	<div dojoType="DataGridColumn" name="Value" bindTo="@value" editable="false" alignment="center" width="-1" underline="false" converter="new hX_2.NumberConverter('strict:1', 'pattern:#,##0', 'locale:,.%?-$')" ></div>
	<div dojoType="DataGridColumn" name="Gains" bindTo="@gains" editable="false" alignment="center" width="-1" underline="false" converter="new hX_2.NumberConverter('strict:1', 'pattern:#,##0', 'locale:,.%?-$')" ></div>
</div>
</body>
</html>