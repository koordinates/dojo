<html>
	<head>
		<!--[if lt IE 5.5]>
		<script language="JavaScript" type="text/javascript" src="http://burstproject.org/burst/fix_ecma.js"></script>
		<![endif]-->
		<script language="JavaScript" type="text/javascript">
			// Dojo configuration
			djConfig = { 
				baseRelativePath: "../../",
				isDebug: true
			};
		</script>
		<script language="JavaScript" type="text/javascript" 
			src="../../src/bootstrap1.js"></script>
		<script language="JavaScript" type="text/javascript" 
			src="../../src/hostenv_browser.js"></script>
		<script language="JavaScript" type="text/javascript" 
			src="../../src/bootstrap2.js"></script>
		<script language="JavaScript" type="text/javascript">
			dojo.hostenv.loadModule("dojo.io.*");

			function init(){
				var bindArgs = {
					url: "test_BrowserIO_data.txt",
					load: function(type, data, evt){
						dj_debug(data);
						// we could just set mimetype: "text/javascript" to
						// have it auto-eval, but that's not as interesting
						// dj_eval(data); 
					},
					backButton: function(){
						alert("we intercepted the back button");
					},
					changeURL: "foo"+(new Date()).getTime()
				};
				var canBind = dojo.io.bind(bindArgs);
			}

			dojo.hostenv.modulesLoadedListeners.push(init);
		</script>
	</head>
	<body>
		Check your javascript log; the scripts were all loaded in the head.
	</body>
</html>

