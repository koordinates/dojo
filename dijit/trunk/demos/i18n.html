<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="content-language" content="ar-sy">
	<title>Dijit I18N Demo</title>

	<script>
		var djConfig = {parseOnLoad: true, isDebug: true},
			locale,
			lang;

		// read in HREF arguments
		if (window.location.href.indexOf("?") > -1) {
			var str = window.location.href.substr(window.location.href.indexOf("?")+1);
			console.log(str);
			var ary  = str.split(/&/);
			for(var i=0; i<ary.length; i++){
				var split = ary[i].split(/=/),
					key = split[0],
					value = split[1];
				switch(key){
					case "locale":
						djConfig.locale = locale = value;
						lang = locale.replace(/-.*/, "");
						break;
					case "dir":
						document.getElementsByTagName("html")[0].dir = value;
						rtl = (value=="rtl");
						break;
				}
			}
		}
	</script>
	<style type="text/css">
		@import "../../dojo/resources/dojo.css";
		@import "../themes/tundra/tundra.css";
		@import "../themes/tundra/tundra_rtl.css";
		@import "../tests/css/dijitTests.css";
		@import "i18n/flags.css";
	</style>

	<script type="text/javascript" src="../../dojo/dojo.js"></script>

	<script language="JavaScript" type="text/javascript">
		dojo.require("dojo.data.ItemFileReadStore");
		dojo.require("dijit.Tree");
		dojo.require("dijit._Calendar");
		dojo.require("dijit.Menu");
		dojo.require("dojo.parser");
	</script>

</head>
<body class="tundra">

	<h1 class="testTitle">Dijit I18N Demo</h1>

	<div dojoType="dojo.data.ItemFileReadStore" jsId="store"
		url="i18n/data.json"></div>

	<div dojoType="dijit._Calendar"></div>

	<div dojoType="dijit.Tree" id="mytree" store="store" query="{type:'language'}" childrenAttr="countries">
		<script type="dojo/method" event="getIconClass" args="item">
			var icon = 
				(store.getValue(item, "type") == "country") ?
				("countryIcon country" + store.getValue(item, "iso") + "Icon") :
				null;
			return icon;
		</script>
		<script type="dojo/method" event="getLabel" args="item">
			var localizedName = lang && store.getValue(item, lang);
			return localizedName || (store.getLabel(item) + " (" + store.getIdentity(item) + ")");
		</script>
	</div>

</body>
</html>
