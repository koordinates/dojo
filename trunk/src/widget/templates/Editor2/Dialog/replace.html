<script>
_container_.addOnLoad(function(){
	if(!_container_.refreshOnShow){
		dojo.event.connect(_container_, "show", this, "init");
	}
	this.init();
});

this.init = function(){
//	var curInst = dojo.widget.Editor2Manager.getCurrentInstance();
//	this.linkNode = dojo.withGlobal(curInst.window, "getAncestorElement", dojo.html.selection, 'a');
//	var linkAttributes = {};
//	this.extraAttribText = "";
//	if(this.linkNode){
//		var attrs = this.linkNode.attributes;
//		for(var i=0; i<attrs.length; i++) {
//			if(dojo.lang.find(this.editableAttributes, attrs[i].name.toLowerCase())>-1){
//				linkAttributes[attrs[i].name] = attrs[i].value;
//			}else{
//				this.extraAttribText += attrs[i].name + '="'+attrs[i].value+'" ';
//			}
//		}
//	}
//	for(var i in this.editableAttributes){
//		name = this.editableAttributes[i];
//		dojo.byId("dojo_createLink_"+name).value = (linkAttributes[name] == undefined) ? "" : linkAttributes[name] ;
//	}
};

this.replace = function(){
	alert("not implemented yet");
	return;
	var findcmd = dojo.widget.Editor2Manager.getCommand('find');
	var option = 0;

	if(dojo.byId("dojo_replace_option_casesens").checked){
		option |= findcmd.SearchOption.CaseSensitive;
	}
//	if(dojo.byId("dojo_replace_option_backwards").checked){
//		option |= findcmd.SearchOption.SearchBackwards;
//	}
//	if(dojo.byId("dojo_replace_option_wholeword").checked){
//		option |= findcmd.SearchOption.WholeWord;
//	}
	findcmd.execute(dojo.byId("dojo_replace_text").value, option);
};

this.replaceAll = function(){
	alert("not implemented yet");
};

this.cancel = function(){
	_container_.hide();
};

</script>
<table style="white-space: nowrap;">
<tr><td>Find: </td><td> <input type="text" id="dojo_replace_text" /></td></tr>
<tr><td>Replace with: </td><td> <input type="text" id="dojo_replace_text" /></td></tr>
<tr><td colspan='2'><table><tr><td><input type="checkbox" dojoType="CheckBox" id="dojo_replace_option_casesens" />
		<label for="dojo_replace_option_casesens">Case Sensitive</label></td>
			<td><input type="checkbox" dojoType="CheckBox" id="dojo_replace_option_backwards" />
		<label for="dojo_replace_option_backwards">Search Backwards</label></td></tr></table></td></tr>
<!-- Does not really work, comment out for now tr><td><input type="checkbox" dojoType="CheckBox" id="dojo_replace_option_wholeword" />
		<label for="dojo_replace_option_wholeword">Whole Word</label></td>
			<td><input type="checkbox" dojoType="CheckBox" id="dojo_replace_option_wrapsearch" />
		<label for="dojo_replace_option_wrapsearch">Wrap Search</label></td></tr-->
</table>
<table><tr>
<td><button dojoType='Button' onClick='scriptScope.replace();'>Replace</button></td>
<td><button dojoType='Button' onClick='scriptScope.replaceAll();'>Replace All</button></td>
<td><button dojoType='Button' onClick='scriptScope.cancel();'>Close</button></td>
</tr></table>