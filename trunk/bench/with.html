<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">

<title>with() test</title>


<script type="text/javascript">

function bench () {
	foo={};
	foo.bar={};
	foo.bar.node=document.getElementById("node");

	tic();
	for (var i = 0; i < 10000; i++) {
		with(foo.bar.node.style){
			position="relative";
			top="10px";
			left="10px";
			height="100px";
			width="300px";
			background="red";
		}
	}
	toc("using with()");

	tic();
	for (var i = 0; i < 10000; i++) {
		foo.bar.node.style.position="relative";
		foo.bar.node.style.top="10px";
		foo.bar.node.style.left="10px";
		foo.bar.node.style.height="100px";
		foo.bar.node.style.width="300px";
		foo.bar.node.style.background="red";
	}
	toc("direct access");
}

function tic () {
	tic.time = new Date();
}

function toc (str) {
	var time = new Date().getTime() - tic.time.getTime();
	var p = document.createElement("p");
	p.appendChild(document.createTextNode(time + " - " + str));
	document.body.appendChild(p);
}

</script>

<h1>Test of with() for setting style</h1>

<p><strong style="color:red">Warning:</strong> these benchmarks will take a number of seconds to run.  Other system activity will cause these benchmarks to skew.
<p><a href="javascript:bench()">Run benchmarks</a>

<div id="node">
This is the node whose style will be adjusted
</div>

<h2>Results</h2>

<p>The results should not be compared between browsers for they are run on different systems, however results for the same browser are relative to each other.

<table>
<thead>
	<tr>
		<th>
		<th>IE
		<th>Safari
		<th>Gecko
	</tr>
</thead>
<tbody>
	<tr>
		<th>with()
		<td>515
		<td>743
		<td>891
	</tr>
	<tr>
		<th>direct access
		<td>719
		<td>801
		<td>1312
	</tr>
</tbody>
</table>
