<html>
<head>
	<title>Dojo Testing Script</title>
	<script type="text/javascript">
			var djConfig = {isDebug: true,debugContainerId: "dojoDebug" };
			//djConfig.debugAtAllCosts = true;
	</script>

	<script type="text/javascript" src="../../dojo.js"></script>

	<script type="text/javascript">
		dojo.require("dojo.widget.*");
		dojo.require("dojo.widget.Button");
		dojo.require("dojo.rpc.YahooService");
	</script>
	<script type="text/javascript">
		function contentCallBack(result) {
			dojo.debug(dojo.json.serialize(result));
			dojo.byId("ReturnedContent").innerHTML = "<p>" + result + "</p>" ;
		}

		var testClass = new dojo.rpc.YahooService();
		testClass.strictArgChecks = false;

	</script>
</head>


<body>
	<div id="example">
		<h2> How to initialize the Dojo Yahoo RPC Service: </h2>
		<pre>// You need the package of course
dojo.require("dojo.rpc.YahooService");

// Create a callback function to handle the results generated by a method
// A second optional parameter to your call back will allow the callback to use
// the submission Id of the json-rpc request

function contentCallBack(result){
	dojo.debug("in contentCallBack");
	dojo.byId("content").innerHTML = result;
}

// Create a new object
var testClass = new dojo.rpc.YahooService();
		</pre>
	</div>

	<div id="actions">
		<h2>Push these buttons to execute code in the button.</h2>
		<h3>Results will be returned below under "Returned Content"</h3>

		<h4>geocode something!</h4>
		<button id="myecho" dojo:type="button" label='testClass.geocode({"street": "1000 Elwell Court", "city": "Palo Alto", "zip": "94303", location: ""}).addCallback(contentCallBack);' onClick='testClass.geocode({"street": "1000 Elwell Court", "city": "Palo Alto", "zip": "94303", location: ""}).addBoth(contentCallBack, contentCallBack);'></button><br>
	</div>
	<br>

	<br>
	<h2>Returned Content:</h2>
	<div id="ReturnedContent">
	None.
	</div>

	<div id="dojoDebug">
	<h2>Debug Log:</h2>      
	</div>

</head>
</html>
