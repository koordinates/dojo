<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Non-markup widgets via createWidget</title>
		<script type="text/javascript">
			var djConfig = { isDebug: true };
		</script>
		<script type="text/javascript" src="../../dojo.js"></script>
		<script type="text/javascript">
			dojo.require("dojo.string.*");
			dojo.require("dojo.widget.Button");
			
			dojo.addOnLoad(function() {
				var w;
				w = dojo.widget.createWidget("dojo:Button", { caption: "Created as dojo:Button" });
				dojo.body().appendChild(w.domNode);
				w = dojo.widget.createWidget("Button", { caption: "Created as Button" });
				dojo.body().appendChild(w.domNode);
				
				// Cannot create components via createWidget
				//var w = dojo.widget.createWidget("dojo:foo");
				
				// Bogus namespace causes parser to fail
				try {
					var w = dojo.widget.createWidget("spuz:Button", { caption: "Created as spuz:Button" });
					if (w) dojo.body().appendChild(w.domNode);
				}catch(e){
					dojo.debug("EXCEPTION: " + e.message);
				}
			});
			
			dojo.registerModulePath("acme", "tests/widget/acme");
			dojo.registerNamespace("acme", "acme.widget", 
				function(name){ 
						return "acme."+dojo.string.capitalize(name);
			});
			
			dojo.addOnLoad(function() {
				var w = dojo.widget.createWidget("acme:Button", { caption: "Created with auto-require as acme:Button" });
				dojo.body().appendChild(w.domNode);
			});
			
			dojo.widget.tags["dojo:foo"] = function() { dojo.debug("Found a 'foo' component"); };
		</script>
	</head>
	<body>
		<div dojoType="foo"></div>
	</body>
</html>
