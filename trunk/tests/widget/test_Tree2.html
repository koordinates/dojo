<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Dojo Tree2 Widget Test</title>

<script type="text/javascript">
    var djConfig = {isDebug: true};
//    var djConfig = {isDebug: true, debugAtAllCosts: true };
</script>
<script type="text/javascript" src="../../dojo.js"></script>
<script type="text/javascript">
	dojo.require("dojo.lang.*");
	dojo.require("dojo.widget.*");
	dojo.require("dojo.widget.Tree2");
	dojo.hostenv.writeIncludes();
</script>
<script type="text/javascript">

	// TODO: fix runtime creation/modification stuff
	// none of this stuff works yet

    function Subscriber(displayNode){
        this.displayNode = displayNode;

        this.update = function(message) {
            this.displayNode.innerHTML = message;
        };
    }

    dojo.hostenv.modulesLoadedListeners.push(function(){
        var tree = dojo.widget.fromScript("Tree2", {publishSelectionTopic: "treeSelected", toggle: "fade"});
        document.body.appendChild(tree.domNode);
        var rootNode = dojo.widget.fromScript("Tree2Node", {title: "Root Node"});
        tree.addChild(rootNode);
        rootNode.addChild(dojo.widget.fromScript("Tree2Node", {title: "Node 1"}));
        rootNode.addChild(dojo.widget.fromScript("Tree2Node", {title: "Node 2"}));
        var node3 = dojo.widget.fromScript("Tree2Node", {title: "Node 3"});
        rootNode.addChild(node3);
        var node3_1 = dojo.widget.fromScript("Tree2Node", {title: "Node 3.1"});
        node3.addChild(node3_1);
        node3_1.addChild(dojo.widget.fromScript("Tree2Node", {title: "Node 3.1.1"}))



        var eventSub = new Subscriber(document.getElementById("SelectionEvents"));
        var selectionTopic = dojo.event.topic.getTopic("treeSelected");
        selectionTopic.subscribe(eventSub, "update");

    });
</script>
</head>
<body>

<h2>Show root expanders, show gridlines (fade)</h2>

<div dojoType="Tree2" toggle="fade">
	<div dojoType="Tree2Node" title="Item 1">
		<div dojoType="Tree2Node" title="Item 1.1"></div>
		<div dojoType="Tree2Node" title="Item 1.2">
			<div dojoType="Tree2Node" title="Item 1.2.1">
				<div dojoType="Tree2Node" title="Item 1.2.1.1"></div>
			</div>
			<div dojoType="Tree2Node" title="Item 1.2.2"></div>
		</div>
		<div dojoType="Tree2Node" title="Item 1.3">
			<div dojoType="Tree2Node" title="Item 1.3.1"></div>
			<div dojoType="Tree2Node" title="Item 1.3.2"></div>
		</div>
		<div dojoType="Tree2Node" title="Item 1.4">
			<div dojoType="Tree2Node" title="Item 1.4.1"></div>
		</div>
	</div>
</div>

<h2>Hide root expanders, show gridlines</h2>

<div dojoType="Tree2" showRootGrid="false">
	<div dojoType="Tree2Node" title="Item 1">
		<div dojoType="Tree2Node" title="Item 1.1">
			<div dojoType="Tree2Node" title="Item 1.2"></div>
		</div>
	</div>
	<div dojoType="Tree2Node" title="Item 2">
		<div dojoType="Tree2Node" title="Item 2.1"></div>
	</div>

	<div dojoType="Tree2Node" title="Item 3"></div>
</div>

<h2>Show root expanders, hide gridlines (wipe)</h2>

<div dojoType="Tree2" showGrid="false" toggle="wipe">
	<div dojoType="Tree2Node" title="Item 1">
		<div dojoType="Tree2Node" title="Item 1.1">
			<div dojoType="Tree2Node" title="Item 1.2"></div>
		</div>
	</div>
	<div dojoType="Tree2Node" title="Item 2">
		<div dojoType="Tree2Node" title="Item 2.1"></div>
	</div>
	<div dojoType="Tree2Node" title="Item 3"></div>
</div>


<h2>Hide root expanders, hide gridlines</h2>

<div dojoType="Tree2" showGrid="false" showRootGrid="false">
	<div dojoType="Tree2Node" title="Item 1">
		<div dojoType="Tree2Node" title="Item 1.1">
			<div dojoType="Tree2Node" title="Item 1.2"></div>
		</div>
	</div>
	<div dojoType="Tree2Node" title="Item 2">
		<div dojoType="Tree2Node" title="Item 2.1"></div>
	</div>
	<div dojoType="Tree2Node" title="Item 3"></div>
</div>

</body>


</html>