{"dojo.dom":{"meta":{"methods":{"dojo.dom.isNode":{"_":{"meta":{"summary":"","parameters":{"wh":{"type":""}},"src":"\tif(typeof Element == \"function\") {\n\t\ttry {\n\t\t\treturn wh instanceof Element;\n\t\t} catch(E) {}\n\t} else {\n\t\t\/\/ best-guess\n\t\treturn wh && !isNaN(wh.nodeType);\n\t}"}}},"dojo.dom.getUniqueId":{"_":{"meta":{"summary":"","src":"\tvar _document = dojo.doc();\n\tdo {\n\t\tvar id = \"dj_unique_\" + (++arguments.callee._idIncrement);\n\t}while(_document.getElementById(id));\n\treturn id;"}}},"dojo.dom.getFirstChildElement":{"_":{"meta":{"summary":"","parameters":{"parentNode":{"type":""},"tagName":{"type":""}},"src":"\tvar node = parentNode.firstChild;\n\twhile(node && node.nodeType != dojo.dom.ELEMENT_NODE){\n\t\tnode = node.nextSibling;\n\t}\n\tif(tagName && node && node.tagName && node.tagName.toLowerCase() != tagName.toLowerCase()) {\n\t\tnode = dojo.dom.nextElement(node, tagName);\n\t}\n\treturn node;"}}},"dojo.dom.getLastChildElement":{"_":{"meta":{"summary":"","parameters":{"parentNode":{"type":""},"tagName":{"type":""}},"src":"\tvar node = parentNode.lastChild;\n\twhile(node && node.nodeType != dojo.dom.ELEMENT_NODE) {\n\t\tnode = node.previousSibling;\n\t}\n\tif(tagName && node && node.tagName && node.tagName.toLowerCase() != tagName.toLowerCase()) {\n\t\tnode = dojo.dom.prevElement(node, tagName);\n\t}\n\treturn node;"}}},"dojo.dom.getNextSiblingElement":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tagName":{"type":""}},"src":"\tif(!node) { return null; }\n\tdo {\n\t\tnode = node.nextSibling;\n\t} while(node && node.nodeType != dojo.dom.ELEMENT_NODE);\n\n\tif(node && tagName && tagName.toLowerCase() != node.tagName.toLowerCase()) {\n\t\treturn dojo.dom.nextElement(node, tagName);\n\t}\n\treturn node;"}}},"dojo.dom.getPreviousSiblingElement":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tagName":{"type":""}},"src":"\tif(!node) { return null; }\n\tif(tagName) { tagName = tagName.toLowerCase(); }\n\tdo {\n\t\tnode = node.previousSibling;\n\t} while(node && node.nodeType != dojo.dom.ELEMENT_NODE);\n\n\tif(node && tagName && tagName.toLowerCase() != node.tagName.toLowerCase()) {\n\t\treturn dojo.dom.prevElement(node, tagName);\n\t}\n\treturn node;"}}},"dojo.dom.moveChildren":{"_":{"meta":{"summary":"","parameters":{"srcNode":{"type":""},"destNode":{"type":""},"trim":{"type":""}},"src":"\tvar count = 0;\n\tif(trim) {\n\t\twhile(srcNode.hasChildNodes() &&\n\t\t\tsrcNode.firstChild.nodeType == dojo.dom.TEXT_NODE) {\n\t\t\tsrcNode.removeChild(srcNode.firstChild);\n\t\t}\n\t\twhile(srcNode.hasChildNodes() &&\n\t\t\tsrcNode.lastChild.nodeType == dojo.dom.TEXT_NODE) {\n\t\t\tsrcNode.removeChild(srcNode.lastChild);\n\t\t}\n\t}\n\twhile(srcNode.hasChildNodes()){\n\t\tdestNode.appendChild(srcNode.firstChild);\n\t\tcount++;\n\t}\n\treturn count;"}}},"dojo.dom.copyChildren":{"_":{"meta":{"summary":"","parameters":{"srcNode":{"type":""},"destNode":{"type":""},"trim":{"type":""}},"src":"\tvar clonedNode = srcNode.cloneNode(true);\n\treturn this.moveChildren(clonedNode, destNode, trim);"}}},"dojo.dom.removeChildren":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar count = node.childNodes.length;\n\twhile(node.hasChildNodes()){ node.removeChild(node.firstChild); }\n\treturn count;"}}},"dojo.dom.replaceChildren":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"newChild":{"type":""}},"src":"\tnode.appendChild(newChild);"}}},"dojo.dom.removeNode":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tif(node && node.parentNode){\n\t\t\/\/ return a ref to the removed child\n\t\treturn node.parentNode.removeChild(node);\n\t}"}}},"dojo.dom.getAncestors":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"filterFunction":{"type":""},"returnFirstHit":{"type":""}},"src":"\tvar ancestors = [];\n\tvar isFunction = (filterFunction && (filterFunction instanceof Function || typeof filterFunction == \"function\"));\n\twhile(node) {\n\t\tif (!isFunction || filterFunction(node)) {\n\t\t\tancestors.push(node);\n\t\t}\n\t\tif (returnFirstHit && ancestors.length > 0) { return ancestors[0]; }\n\t\t\n\t\tnode = node.parentNode;\n\t}\n\tif (returnFirstHit) { return null; }\n\treturn ancestors;"}}},"dojo.dom.getAncestorsByTag":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tag":{"type":""},"returnFirstHit":{"type":""}},"src":"\ttag = tag.toLowerCase();\n\treturn dojo.dom.getAncestors(node, function(el){\n\t\treturn ((el.tagName)&&(el.tagName.toLowerCase() == tag));\n\t}, returnFirstHit);"}}},"dojo.dom.getFirstAncestorByTag":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tag":{"type":""}},"src":"\treturn dojo.dom.getAncestorsByTag(node, tag, true);"}}},"dojo.dom.isDescendantOf":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"ancestor":{"type":""},"guaranteeDescendant":{"type":""}},"src":"\twhile(node) {\n\t\tif(node == ancestor){ return true; }\n\t\tnode = node.parentNode;\n\t}\n\treturn false;"}}},"dojo.dom.innerXML":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tif(node.innerXML){\n\t\treturn node.innerXML;\n\t}else if (node.xml){\n\t\treturn node.xml;\n\t}else if(typeof XMLSerializer != \"undefined\"){\n\t\treturn (new XMLSerializer()).serializeToString(node);\n\t}"}}},"dojo.dom.createDocument":{"_":{"meta":{"summary":"","src":"\tvar doc = null;\n\tvar _document = dojo.doc();\n\n\tif(!dj_undef(\"ActiveXObject\")){\n\t\tvar prefixes = [ \"MSXML2\", \"Microsoft\", \"MSXML\", \"MSXML3\" ];\n\t\tfor(var i = 0; i<prefixes.length; i++){\n\t\t\ttry{\n\t\t\t\tdoc = new ActiveXObject(prefixes[i]+\".XMLDOM\");\n\t\t\t}catch(e){ \/* squelch *\/ };\n\n\t\t\tif(doc){ break; }\n\t\t}\n\t}else if((_document.implementation)&&\n\t\t(_document.implementation.createDocument)){\n\t\tdoc = _document.implementation.createDocument(\"\", \"\", null);\n\t}\n\t\n\treturn doc;"}}},"dojo.dom.createDocumentFromText":{"_":{"meta":{"summary":"","parameters":{"str":{"type":""},"mimetype":{"type":""}},"src":"\tif(!mimetype){ mimetype = \"text\/xml\"; }\n\tif(!dj_undef(\"DOMParser\")){\n\t\tvar parser = new DOMParser();\n\t\treturn parser.parseFromString(str, mimetype);\n\t}else if(!dj_undef(\"ActiveXObject\")){\n\t\tvar domDoc = dojo.dom.createDocument();\n\t\tif(domDoc){\n\t\t\tdomDoc.async = false;\n\t\t\tdomDoc.loadXML(str);\n\t\t\treturn domDoc;\n\t\t}else{\n\t\t\tdojo.debug(\"toXml didn't work?\");\n\t\t}\n\t\/*\n\t}else if((dojo.render.html.capable)&&(dojo.render.html.safari)){\n\t\t\/\/ FIXME: this doesn't appear to work!\n\t\t\/\/ from: http:\/\/web-graphics.com\/mtarchive\/001606.php\n\t\t\/\/ var xml = '<?xml version=\"1.0\"?>'+str;\n\t\tvar mtype = \"text\/xml\";\n\t\tvar xml = '<?xml version=\"1.0\"?>'+str;\n\t\tvar url = \"data:\"+mtype+\";charset=utf-8,\"+encodeURIComponent(xml);\n\t\tvar req = new XMLHttpRequest();\n\t\treq.open(\"GET\", url, false);\n\t\treq.overrideMimeType(mtype);\n\t\treq.send(null);\n\t\treturn req.responseXML;\n\t*\/\n\t}else{\n\t\tvar _document = dojo.doc();\n\t\tif(_document.createElement){\n\t\t\t\/\/ FIXME: this may change all tags to uppercase!\n\t\t\tvar tmp = _document.createElement(\"xml\");\n\t\t\ttmp.innerHTML = str;\n\t\t\tif(_document.implementation && _document.implementation.createDocument) {\n\t\t\t\tvar xmlDoc = _document.implementation.createDocument(\"foo\", \"\", null);\n\t\t\t\tfor(var i = 0; i < tmp.childNodes.length; i++) {\n\t\t\t\t\txmlDoc.importNode(tmp.childNodes.item(i), true);\n\t\t\t\t}\n\t\t\t\treturn xmlDoc;\n\t\t\t}\n\t\t\t\/\/ FIXME: probably not a good idea to have to return an HTML fragment\n\t\t\t\/\/ FIXME: the tmp.doc.firstChild is as tested from IE, so it may not\n\t\t\t\/\/ work that way across the board\n\t\t\treturn ((tmp.document)&&\n\t\t\t\t(tmp.document.firstChild ?  tmp.document.firstChild : tmp));\n\t\t}\n\t}\n\treturn null;"}}},"dojo.dom.prependChild":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"parent":{"type":""}},"src":"\tif(parent.firstChild) {\n\t\tparent.insertBefore(node, parent.firstChild);\n\t} else {\n\t\tparent.appendChild(node);\n\t}\n\treturn true;"}}},"dojo.dom.insertBefore":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"ref":{"type":""},"force":{"type":""}},"src":"\tif (force != true &&\n\t\t(node === ref || node.nextSibling === ref)){ return false; }\n\tvar parent = ref.parentNode;\n\tparent.insertBefore(node, ref);\n\treturn true;"}}},"dojo.dom.insertAfter":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"ref":{"type":""},"force":{"type":""}},"src":"\tvar pn = ref.parentNode;\n\tif(ref == pn.lastChild){\n\t\tif((force != true)&&(node === ref)){\n\t\t\treturn false;\n\t\t}\n\t\tpn.appendChild(node);\n\t}else{\n\t\treturn this.insertBefore(node, ref.nextSibling, force);\n\t}\n\treturn true;"}}},"dojo.dom.insertAtPosition":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"ref":{"type":""},"position":{"type":""}},"src":"\tif((!node)||(!ref)||(!position)){ return false; }\n\tswitch(position.toLowerCase()){\n\t\tcase \"before\":\n\t\t\treturn dojo.dom.insertBefore(node, ref);\n\t\tcase \"after\":\n\t\t\treturn dojo.dom.insertAfter(node, ref);\n\t\tcase \"first\":\n\t\t\tif(ref.firstChild){\n\t\t\t\treturn dojo.dom.insertBefore(node, ref.firstChild);\n\t\t\t}else{\n\t\t\t\tref.appendChild(node);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault: \/\/ aka: last\n\t\t\tref.appendChild(node);\n\t\t\treturn true;\n\t}"}}},"dojo.dom.insertAtIndex":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"containingNode":{"type":""},"insertionIndex":{"type":""}},"src":"\tvar siblingNodes = containingNode.childNodes;\n\n\t\/\/ if there aren't any kids yet, just add it to the beginning\n\n\tif (!siblingNodes.length){\n\t\tcontainingNode.appendChild(node);\n\t\treturn true;\n\t}\n\n\t\/\/ otherwise we need to walk the childNodes\n\t\/\/ and find our spot\n\n\tvar after = null;\n\n\tfor(var i=0; i<siblingNodes.length; i++){\n\n\t\tvar sibling_index = siblingNodes.item(i)[\"getAttribute\"] ? parseInt(siblingNodes.item(i).getAttribute(\"dojoinsertionindex\")) : -1;\n\n\t\tif (sibling_index < insertionIndex){\n\t\t\tafter = siblingNodes.item(i);\n\t\t}\n\t}\n\n\tif (after){\n\t\t\/\/ add it after the node in {after}\n\n\t\treturn dojo.dom.insertAfter(node, after);\n\t}else{\n\t\t\/\/ add it to the start\n\n\t\treturn dojo.dom.insertBefore(node, siblingNodes.item(0));\n\t}"}}},"dojo.dom.textContent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"text":{"type":""}},"src":"\tif (arguments.length>1) {\n\t\tvar _document = dojo.doc();\n\t\tdojo.dom.replaceChildren(node, _document.createTextNode(text));\n\t\treturn text;\n\t} else {\n\t\tif(node.textContent != undefined){ \/\/FF 1.5\n\t\t\treturn node.textContent;\n\t\t}\n\t\tvar _result = \"\";\n\t\tif (node == null) { return _result; }\n\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\tswitch (node.childNodes[i].nodeType) {\n\t\t\t\tcase 1: \/\/ ELEMENT_NODE\n\t\t\t\tcase 5: \/\/ ENTITY_REFERENCE_NODE\n\t\t\t\t\t_result += dojo.dom.textContent(node.childNodes[i]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3: \/\/ TEXT_NODE\n\t\t\t\tcase 2: \/\/ ATTRIBUTE_NODE\n\t\t\t\tcase 4: \/\/ CDATA_SECTION_NODE\n\t\t\t\t\t_result += node.childNodes[i].nodeValue;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn _result;\n\t}"}}},"dojo.dom.hasParent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn node && node.parentNode && dojo.dom.isNode(node.parentNode);"}}},"dojo.dom.isTag":{"_":{"meta":{"summary":"","parameters":{"node":{"type":"..."}},"src":"\tif(node && node.tagName) {\n\t\tfor(var i=1; i<arguments.length; i++){\n\t\t\tif(node.tagName==String(arguments[i])){\n\t\t\t\treturn String(arguments[i]);\n\t\t\t}\n\t\t}\n\t}\n\treturn \"\";"}}},"dojo.dom.setAttributeNS":{"_":{"meta":{"summary":"","parameters":{"elem":{"type":""},"namespaceURI":{"type":""},"attrName":{"type":""},"attrValue":{"type":""}},"src":"\tif(elem == null || ((elem == undefined)&&(typeof elem == \"undefined\"))){\n\t\tdojo.raise(\"No element given to dojo.dom.setAttributeNS\");\n\t}\n\t\n\tif(!((elem.setAttributeNS == undefined)&&(typeof elem.setAttributeNS == \"undefined\"))){ \/\/ w3c\n\t\telem.setAttributeNS(namespaceURI, attrName, attrValue);\n\t}else{ \/\/ IE\n\t\t\/\/ get a root XML document\n\t\tvar ownerDoc = elem.ownerDocument;\n\t\tvar attribute = ownerDoc.createNode(\n\t\t\t2, \/\/ node type\n\t\t\tattrName,\n\t\t\tnamespaceURI\n\t\t);\n\t\t\n\t\t\/\/ set value\n\t\tattribute.nodeValue = attrValue;\n\t\t\n\t\t\/\/ attach to element\n\t\telem.setAttributeNode(attribute);\n\t}"}}}}}}}