{"dojo.Deferred":{"meta":{"requires":{"common":["dojo.lang.func"]},"methods":{"dojo.Deferred":{"_":{"meta":{"summary":"","parameters":{"canceller":{"type":"optional"}},"src":"\tthis.id = this._nextId();\n\tthis.fired = -1;\n\tthis.paused = 0;\n\tthis.results = [null, null];\n\tthis.canceller = canceller;\n\tthis.silentlyCancelled = false;","this_variables":["chain","id","fired","paused","results","canceller","silentlyCancelled","fired","fired","silentlyCancelled","paused","fired","silentlyCancelled","fired"],"protovariables":{"toString":"","_nextId":""}}}},"cb":{"_":{"meta":{"summary":"","parameters":{"res":{"type":""}},"src":"\t\t\t\t\t\tself._continue(res);"}}},"dojo.Deferred.getFunctionFromArgs":{"_":{"meta":{"summary":"","src":"\t\tvar a = arguments;\n\t\tif((a[0])&&(!a[1])){\n\t\t\tif(dojo.lang.isFunction(a[0])){\n\t\t\t\treturn a[0];\n\t\t\t}else if(dojo.lang.isString(a[0])){\n\t\t\t\treturn dj_global[a[0]];\n\t\t\t}\n\t\t}else if((a[0])&&(a[1])){\n\t\t\treturn dojo.lang.hitch(a[0], a[1]);\n\t\t}\n\t\treturn null;","this":"dojo.Deferred"}}},"dojo.Deferred.makeCalled":{"_":{"meta":{"summary":"","src":"\t\tvar deferred = new dojo.Deferred();\n\t\tdeferred.callback();\n\t\treturn deferred;","this":"dojo.Deferred"}}},"dojo.Deferred.repr":{"_":{"meta":{"summary":"","src":"\t\tvar state;\n\t\tif(this.fired == -1){\n\t\t\tstate = 'unfired';\n\t\t}else if(this.fired == 0){\n\t\t\tstate = 'success';\n\t\t} else {\n\t\t\tstate = 'error';\n\t\t}\n\t\treturn 'Deferred(' + this.id + ', ' + state + ')';","this":"dojo.Deferred"}}},"dojo.Deferred.cancel":{"_":{"meta":{"summary":"","src":"\t\t\tif (this.canceller){\n\t\t\t\tthis.canceller(this);\n\t\t\t}else{\n\t\t\t\tthis.silentlyCancelled = true;\n\t\t\t}\n\t\t\tif(this.fired == -1){\n\t\t\t\tthis.errback(new Error(this.repr()));\n\t\t\t}\n\t\t}else if(\t(this.fired == 0)&&\n\t\t\t\t\t(this.results[0] instanceof dojo.Deferred)){\n\t\t\tthis.results[0].cancel();\n\t\t}","this":"dojo.Deferred"}}},"dojo.Deferred._pause":{"_":{"meta":{"summary":"","src":"","this":"dojo.Deferred"}}},"dojo.Deferred._unpause":{"_":{"meta":{"summary":"","src":"\t\tif ((this.paused == 0) && (this.fired >= 0)) {\n\t\t\tthis._fire();\n\t\t}","this":"dojo.Deferred"}}},"dojo.Deferred._continue":{"_":{"meta":{"summary":"","parameters":{"res":{"type":""}},"src":"\t\tthis._unpause();","this":"dojo.Deferred"}}},"dojo.Deferred._resback":{"_":{"meta":{"summary":"","parameters":{"res":{"type":""}},"src":"\t\tthis.results[this.fired] = res;\n\t\tthis._fire();","this":"dojo.Deferred"}}},"dojo.Deferred._check":{"_":{"meta":{"summary":"","src":"\t\tif(this.fired != -1){\n\t\t\tif(!this.silentlyCancelled){\n\t\t\t\tdojo.raise(\"already called!\");\n\t\t\t}\n\t\t\tthis.silentlyCancelled = false;\n\t\t\treturn;\n\t\t}","this":"dojo.Deferred"}}},"dojo.Deferred.callback":{"_":{"meta":{"summary":"","parameters":{"res":{"type":""}},"src":"\t\tthis._resback(res);","this":"dojo.Deferred"}}},"dojo.Deferred.errback":{"_":{"meta":{"summary":"","parameters":{"res":{"type":""}},"src":"\t\tif(!(res instanceof Error)){\n\t\t\tres = new Error(res);\n\t\t}\n\t\tthis._resback(res);","this":"dojo.Deferred"}}},"dojo.Deferred.addBoth":{"_":{"meta":{"summary":"","parameters":{"cb":{"type":""},"cbfn":{"type":""}},"src":"\t\tif(arguments.length > 2){\n\t\t\tenclosed = dojo.lang.curryArguments(null, enclosed, arguments, 2);\n\t\t}\n\t\treturn this.addCallbacks(enclosed, enclosed);","this":"dojo.Deferred"}}},"dojo.Deferred.addCallback":{"_":{"meta":{"summary":"","parameters":{"cb":{"type":""},"cbfn":{"type":""}},"src":"\t\tif(arguments.length > 2){\n\t\t\tenclosed = dojo.lang.curryArguments(null, enclosed, arguments, 2);\n\t\t}\n\t\treturn this.addCallbacks(enclosed, null);","this":"dojo.Deferred"}}},"dojo.Deferred.addErrback":{"_":{"meta":{"summary":"","parameters":{"cb":{"type":""},"cbfn":{"type":""}},"src":"\t\tif(arguments.length > 2){\n\t\t\tenclosed = dojo.lang.curryArguments(null, enclosed, arguments, 2);\n\t\t}\n\t\treturn this.addCallbacks(null, enclosed);\n\t\treturn this.addCallbacks(null, cbfn);","this":"dojo.Deferred"}}},"dojo.Deferred.addCallbacks":{"_":{"meta":{"summary":"","parameters":{"cb":{"type":""},"eb":{"type":""}},"src":"\t\tif (this.fired >= 0) {\n\t\t\tthis._fire();\n\t\t}\n\t\treturn this;","this":"dojo.Deferred"}}},"dojo.Deferred._fire":{"_":{"meta":{"summary":"","src":"\t\tvar fired = this.fired;\n\t\tvar res = this.results[fired];\n\t\tvar self = this;\n\t\tvar cb = null;\n\t\twhile (chain.length > 0 && this.paused == 0) {\n\t\t\t\/\/ Array\n\t\t\tvar pair = chain.shift();\n\t\t\tvar f = pair[fired];\n\t\t\tif (f == null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tres = f(res);\n\t\t\t\tfired = ((res instanceof Error) ? 1 : 0);\n\t\t\t\tif(res instanceof dojo.Deferred) {\n\t\t\t\t\tcb = function(res){\n\t\t\t\t\t\tself._continue(res);\n\t\t\t\t\t}\n\t\t\t\t\tthis._pause();\n\t\t\t\t}\n\t\t\t}catch(err){\n\t\t\t\tfired = 1;\n\t\t\t\tres = err;\n\t\t\t}\n\t\t}\n\t\tthis.fired = fired;\n\t\tthis.results[fired] = res;\n\t\tif((cb)&&(this.paused)){\n\t\t\t\/\/ this is for \"tail recursion\" in case the dependent\n\t\t\t\/\/ deferred is already fired\n\t\t\tres.addBoth(cb);\n\t\t}","this":"dojo.Deferred"}}}}}}}