{"dojo.html._":{"meta":{"requires":{"common":["dojo.html.common","dojo.html.style"]}}},"dojo.html.color":{"meta":{"requires":{"common":["dojo.html.style","dojo.gfx.color","dojo.lang.common"]},"functions":{"dojo.html.getBackgroundColor":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar color;\n\tdo{\n\t\tcolor = dojo.html.getStyle(node, \"background-color\");\n\t\t\/\/ Safari doesn't say \"transparent\"\n\t\tif(color.toLowerCase() == \"rgba(0, 0, 0, 0)\") { color = \"transparent\"; }\n\t\tif(node == document.getElementsByTagName(\"body\")[0]) { node = null; break; }\n\t\tnode = node.parentNode;\n\t}while(node && dojo.lang.inArray([\"transparent\", \"\"], color));\n\tif(color == \"transparent\"){\n\t\tcolor = [255, 255, 255, 0];\n\t}else{\n\t\tcolor = dojo.gfx.color.extractRGB(color);\n\t}\n\treturn color;"}}}}}},"dojo.html.common":{"meta":{"requires":{"common":["dojo.lang.common","dojo.dom"]},"functions":{"dojo.html.body":{"_":{"meta":{"summary":"","src":"\tdojo.deprecated(\"dojo.html.body() moved to dojo.body()\", \"0.5\");\n\treturn dojo.body();"}}},"dojo.html.getEventTarget":{"_":{"meta":{"summary":"","parameters":{"evt":{"type":""}},"src":"\tif(!evt) { evt = dojo.global().event || {} };\n\tvar t = (evt.srcElement ? evt.srcElement : (evt.target ? evt.target : null));\n\twhile((t)&&(t.nodeType!=1)){ t = t.parentNode; }\n\treturn t;"}}},"dojo.html.getViewport":{"_":{"meta":{"summary":"","src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\tvar w = 0;\n\tvar h = 0;\n\n\tif(dojo.render.html.mozilla){\n\t\t\/\/ mozilla\n\t\tw = _document.documentElement.clientWidth;\n\t\th = _window.innerHeight;\n\t}else if(!dojo.render.html.opera && _window.innerWidth){\n\t\t\/\/in opera9, dojo.body().clientWidth should be used, instead\n\t\t\/\/of window.innerWidth\/document.documentElement.clientWidth\n\t\t\/\/so we have to check whether it is opera\n\t\tw = _window.innerWidth;\n\t\th = _window.innerHeight;\n\t} else if (!dojo.render.html.opera && dojo.exists(_document, \"documentElement.clientWidth\")){\n\t\t\/\/ IE6 Strict\n\t\tvar w2 = _document.documentElement.clientWidth;\n\t\t\/\/ this lets us account for scrollbars\n\t\tif(!w || w2 && w2 < w) {\n\t\t\tw = w2;\n\t\t}\n\t\th = _document.documentElement.clientHeight;\n\t} else if (dojo.body().clientWidth){\n\t\t\/\/ IE, Opera\n\t\tw = dojo.body().clientWidth;\n\t\th = dojo.body().clientHeight;\n\t}\n\treturn { width: w, height: h };"}}},"dojo.html.getScroll":{"_":{"meta":{"summary":"","src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\tvar top = _window.pageYOffset || _document.documentElement.scrollTop || dojo.body().scrollTop || 0;\n\tvar left = _window.pageXOffset || _document.documentElement.scrollLeft || dojo.body().scrollLeft || 0;\n\treturn { \n\t\ttop: top, \n\t\tleft: left, \n\t\toffset:{ x: left, y: top }\t\/\/\tnote the change, NOT an Array with added properties. \n\t};"}}},"dojo.html.getParentByType":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"type":{"type":""}},"src":"\tvar _document = dojo.doc();\n\tvar parent = dojo.byId(node);\n\ttype = type.toLowerCase();\n\twhile((parent)&&(parent.nodeName.toLowerCase()!=type)){\n\t\tif(parent==(_document[\"body\"]||_document[\"documentElement\"])){\n\t\t\treturn null;\n\t\t}\n\t\tparent = parent.parentNode;\n\t}\n\treturn parent;"}}},"dojo.html.getAttribute":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"attr":{"type":""}},"src":"\tnode = dojo.byId(node);\n\t\/\/ FIXME: need to add support for attr-specific accessors\n\tif((!node)||(!node.getAttribute)){\n\t\t\/\/ if(attr !== 'nwType'){\n\t\t\/\/\talert(\"getAttr of '\" + attr + \"' with bad node\"); \n\t\t\/\/ }\n\t\treturn null;\n\t}\n\tvar ta = typeof attr == 'string' ? attr : new String(attr);\n\n\t\/\/ first try the approach most likely to succeed\n\tvar v = node.getAttribute(ta.toUpperCase());\n\tif((v)&&(typeof v == 'string')&&(v!=\"\")){ return v; }\n\n\t\/\/ try returning the attributes value, if we couldn't get it as a string\n\tif(v && v.value){ return v.value; }\n\n\t\/\/ this should work on Opera 7, but it's a little on the crashy side\n\tif((node.getAttributeNode)&&(node.getAttributeNode(ta))){\n\t\treturn (node.getAttributeNode(ta)).value;\n\t}else if(node.getAttribute(ta)){\n\t\treturn node.getAttribute(ta);\n\t}else if(node.getAttribute(ta.toLowerCase())){\n\t\treturn node.getAttribute(ta.toLowerCase());\n\t}\n\treturn null;"}}},"dojo.html.hasAttribute":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"attr":{"type":""}},"src":"\treturn dojo.html.getAttribute(dojo.byId(node), attr) ? true : false;"}}},"dojo.html.getCursorPosition":{"_":{"meta":{"summary":"","parameters":{"e":{"type":""}},"src":"\te = e || dojo.global().event;\n\tvar cursor = {x:0, y:0};\n\tif(e.pageX || e.pageY){\n\t\tcursor.x = e.pageX;\n\t\tcursor.y = e.pageY;\n\t}else{\n\t\tvar de = dojo.doc().documentElement;\n\t\tvar db = dojo.body();\n\t\tcursor.x = e.clientX + ((de||db)[\"scrollLeft\"]) - ((de||db)[\"clientLeft\"]);\n\t\tcursor.y = e.clientY + ((de||db)[\"scrollTop\"]) - ((de||db)[\"clientTop\"]);\n\t}\n\treturn cursor;"}}},"dojo.html.isTag":{"_":{"meta":{"summary":"","parameters":{"node":{"type":"..."}},"src":"\tnode = dojo.byId(node);\n\tif(node && node.tagName) {\n\t\tfor (var i=1; i<arguments.length; i++){\n\t\t\tif (node.tagName.toLowerCase()==String(arguments[i]).toLowerCase()){\n\t\t\t\treturn String(arguments[i]).toLowerCase();\n\t\t\t}\n\t\t}\n\t}\n\treturn \"\";"}}},"dojo.html.createExternalElement":{"_":{"meta":{"summary":"","parameters":{"doc":{"type":""},"tag":{"type":""}},"src":"\t\treturn doc.createElement(tag);"}}},"dojo.html._callDeprecated":{"_":{"meta":{"summary":"","parameters":{"inFunc":{"type":""},"replFunc":{"type":""},"args":{"type":""},"argName":{"type":""},"retValue":{"type":""}},"src":"\tdojo.deprecated(\"dojo.html.\" + inFunc,\n\t\t\t\t\t\"replaced by dojo.html.\" + replFunc + \"(\" + (argName ? \"node, {\"+ argName + \": \" + argName + \"}\" : \"\" ) + \")\" + (retValue ? \".\" + retValue : \"\"), \"0.5\");\n\tvar newArgs = [];\n\tif(argName){ var argsIn = {}; argsIn[argName] = args[1]; newArgs.push(args[0]); newArgs.push(argsIn); }\n\telse { newArgs = args }\n\tvar ret = dojo.html[replFunc].apply(dojo.html, args);\n\tif(retValue){ return ret[retValue]; }\n\telse { return ret; }"}}},"dojo.html.getViewportWidth":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getViewportWidth\", \"getViewport\", arguments, null, \"width\");"}}},"dojo.html.getViewportHeight":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getViewportHeight\", \"getViewport\", arguments, null, \"height\");"}}},"dojo.html.getViewportSize":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getViewportSize\", \"getViewport\", arguments);"}}},"dojo.html.getScrollTop":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getScrollTop\", \"getScroll\", arguments, null, \"top\");"}}},"dojo.html.getScrollLeft":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getScrollLeft\", \"getScroll\", arguments, null, \"left\");"}}},"dojo.html.getScrollOffset":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getScrollOffset\", \"getScroll\", arguments, null, \"offset\");"}}}}}},"dojo.html.display":{"meta":{"requires":{"common":["dojo.html.style"]},"functions":{"dojo.html._toggle":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tester":{"type":""},"setter":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tsetter(node, !tester(node));\n\treturn tester(node);"}}},"dojo.html.show":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tif(dojo.html.getStyleProperty(node, 'display')=='none'){\n\t\tdojo.html.setStyle(node, 'display', (node.dojoDisplayCache||''));\n\t\tnode.dojoDisplayCache = undefined;\t\/\/ cannot use delete on a node in IE6\n\t}"}}},"dojo.html.hide":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tif(typeof node[\"dojoDisplayCache\"] == \"undefined\"){ \/\/ it could == '', so we cannot say !node.dojoDisplayCount\n\t\tvar d = dojo.html.getStyleProperty(node, 'display')\n\t\tif(d!='none'){\n\t\t\tnode.dojoDisplayCache = d;\n\t\t}\n\t}\n\tdojo.html.setStyle(node, 'display', 'none');"}}},"dojo.html.setShowing":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"showing":{"type":""}},"src":"\tdojo.html[(showing ? 'show' : 'hide')](node);"}}},"dojo.html.isShowing":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn (dojo.html.getStyleProperty(node, 'display') != 'none');"}}},"dojo.html.toggleShowing":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._toggle(node, dojo.html.isShowing, dojo.html.setShowing);"}}},"dojo.html.suggestDisplayByTagName":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"{\n\tnode = dojo.byId(node);\n\tif(node && node.tagName){\n\t\tvar tag = node.tagName.toLowerCase();\n\t\treturn (tag in dojo.html.displayMap ? dojo.html.displayMap[tag] : 'block');\n\t}"}}},"dojo.html.setDisplay":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"display":{"type":""}},"src":"\tdojo.html.setStyle(node, 'display', ((display instanceof String || typeof display == \"string\") ? display : (display ? dojo.html.suggestDisplayByTagName(node) : 'none')));"}}},"dojo.html.isDisplayed":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn (dojo.html.getComputedStyle(node, 'display') != 'none');"}}},"dojo.html.toggleDisplay":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._toggle(node, dojo.html.isDisplayed, dojo.html.setDisplay);"}}},"dojo.html.setVisibility":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"visibility":{"type":""}},"src":"\tdojo.html.setStyle(node, 'visibility', ((visibility instanceof String || typeof visibility == \"string\") ? visibility : (visibility ? 'visible' : 'hidden')));"}}},"dojo.html.isVisible":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn (dojo.html.getComputedStyle(node, 'visibility') != 'hidden');"}}},"dojo.html.toggleVisibility":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._toggle(node, dojo.html.isVisible, dojo.html.setVisibility);"}}},"dojo.html.setOpacity":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"opacity":{"type":""},"dontFixOpacity":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar h = dojo.render.html;\n\tif(!dontFixOpacity){\n\t\tif( opacity >= 1.0){\n\t\t\tif(h.ie){\n\t\t\t\tdojo.html.clearOpacity(node);\n\t\t\t\treturn;\n\t\t\t}else{\n\t\t\t\topacity = 0.999999;\n\t\t\t}\n\t\t}else if( opacity < 0.0){ opacity = 0; }\n\t}\n\tif(h.ie){\n\t\tif(node.nodeName.toLowerCase() == \"tr\"){\n\t\t\t\/\/ FIXME: is this too naive? will we get more than we want?\n\t\t\tvar tds = node.getElementsByTagName(\"td\");\n\t\t\tfor(var x=0; x<tds.length; x++){\n\t\t\t\ttds[x].style.filter = \"Alpha(Opacity=\"+opacity*100+\")\";\n\t\t\t}\n\t\t}\n\t\tnode.style.filter = \"Alpha(Opacity=\"+opacity*100+\")\";\n\t}else if(h.moz){\n\t\tnode.style.opacity = opacity; \/\/ ffox 1.0 directly supports \"opacity\"\n\t\tnode.style.MozOpacity = opacity;\n\t}else if(h.safari){\n\t\tnode.style.opacity = opacity; \/\/ 1.3 directly supports \"opacity\"\n\t\tnode.style.KhtmlOpacity = opacity;\n\t}else{\n\t\tnode.style.opacity = opacity;\n\t}"}}},"clearOpacity":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar ns = node.style;\n\tvar h = dojo.render.html;\n\tif(h.ie){\n\t\ttry {\n\t\t\tif( node.filters && node.filters.alpha ){\n\t\t\t\tns.filter = \"\"; \/\/ FIXME: may get rid of other filter effects\n\t\t\t}\n\t\t} catch(e) {\n\t\t\t\/*\n\t\t\t * IE7 gives error if node.filters not set;\n\t\t\t * don't know why or how to workaround (other than this)\n\t\t\t *\/\n\t\t}\n\t}else if(h.moz){\n\t\tns.opacity = 1;\n\t\tns.MozOpacity = 1;\n\t}else if(h.safari){\n\t\tns.opacity = 1;\n\t\tns.KhtmlOpacity = 1;\n\t}else{\n\t\tns.opacity = 1;\n\t}"}}},"getOpacity":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar h = dojo.render.html;\n\tif(h.ie){\n\t\tvar opac = (node.filters && node.filters.alpha &&\n\t\t\ttypeof node.filters.alpha.opacity == \"number\"\n\t\t\t? node.filters.alpha.opacity : 100) \/ 100;\n\t}else{\n\t\tvar opac = node.style.opacity || node.style.MozOpacity ||\n\t\t\tnode.style.KhtmlOpacity || 1;\n\t}\n\treturn opac >= 0.999999 ? 1.0 : Number(opac);"}}}}}},"dojo.html.iframe":{"meta":{"requires":{"common":["dojo.html.util"]},"functions":{"dojo.html.iframeContentWindow":{"_":{"meta":{"summary":"","parameters":{"iframe_el":{"type":""}},"src":"\tvar win = dojo.html.getDocumentWindow(dojo.html.iframeContentDocument(iframe_el)) ||\n\t\t\/\/ Moz. TODO: is this available when defaultView isn't?\n\t\tdojo.html.iframeContentDocument(iframe_el).__parent__ ||\n\t\t(iframe_el.name && document.frames[iframe_el.name]) || null;\n\treturn win;"}}},"dojo.html.iframeContentDocument":{"_":{"meta":{"summary":"","parameters":{"iframe_el":{"type":""}},"src":"\tvar doc = iframe_el.contentDocument ||      \n\t\t(\n\t\t\t(iframe_el.contentWindow)&&(iframe_el.contentWindow.document)\n\t\t) ||  \/\/ IE\n\t\t(\n\t\t\t(iframe_el.name)&&(document.frames[iframe_el.name])&&\n\t\t\t(document.frames[iframe_el.name].document)\n\t\t) || null;\n\treturn doc;"}}},"dojo.html.BackgroundIframe":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tif(dojo.render.html.ie55 || dojo.render.html.ie60) {\n\t\tvar html=\n\t\t\t\t \"<iframe \"\n\t\t\t\t+\"style='position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;\"\n\t\t\t\t+        \"z-index: -1; filter:Alpha(Opacity=\\\"0\\\");' \"\n\t\t\t\t+\">\";\n\t\tthis.iframe = dojo.doc().createElement(html);\n\t\tthis.iframe.tabIndex = -1; \/\/ Magic to prevent iframe from getting focus on tab keypress - as style didnt work.\n\t\tif(node){\n\t\t\tnode.appendChild(this.iframe);\n\t\t\tthis.domNode=node;\n\t\t}else{\n\t\t\tdojo.body().appendChild(this.iframe);\n\t\t\tthis.iframe.style.display=\"none\";\n\t\t}\n\t}","this_variables":["iframe","iframe.tabIndex","domNode","iframe.style.display","iframe.style.zIndex","iframe.style.display","iframe.style.display"],"protovariables":{"iframe":""}}}},"dojo.html.BackgroundIframe.onResized":{"_":{"meta":{"summary":"","src":"\t\tif(this.iframe && this.domNode && this.domNode.parentNode){                                                                             \n\t\t\tvar outer = dojo.html.getMarginBox(this.domNode);\n\t\t\tif (outer.width  == 0 || outer.height == 0 ){\n\t\t\t\tdojo.lang.setTimeout(this, this.onResized, 100);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twith(this.iframe.style){\n\t\t\t\twidth = outer.width + \"px\";\n\t\t\t\theight = outer.height + \"px\";\n\t\t\t}\n\t\t}","this":"dojo.html.BackgroundIframe"}}},"dojo.html.BackgroundIframe.size":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\t\tif(!this.iframe) { return; }\n\n\t\tvar coords = dojo.html.toCoordinateObject(node, true, dojo.html.boxSizing.BORDER_BOX);\n\n\t\twith(this.iframe.style){\n\t\t\twidth = coords.width + \"px\";\n\t\t\theight = coords.height + \"px\";\n\t\t\tleft = coords.left + \"px\";\n\t\t\ttop = coords.top + \"px\";\n\t\t}","this":"dojo.html.BackgroundIframe"}}},"dojo.html.BackgroundIframe.setZIndex":{"_":{"meta":{"summary":"","parameters":{"node":{"type":"or number"}},"src":"\t\tif(!this.iframe) { return; }\n\n\t\tif(dojo.dom.isNode(node)) {\n\t\t\tthis.iframe.style.zIndex = dojo.html.getStyle(node, \"z-index\") - 1;\n\t\t} else if(!isNaN(node)) {\n\t\t\tthis.iframe.style.zIndex = node;\n\t\t}","this":"dojo.html.BackgroundIframe"}}},"dojo.html.BackgroundIframe.show":{"_":{"meta":{"summary":"","src":"\t\tif(!this.iframe) { return; }\n\t\tthis.iframe.style.display = \"block\";","this":"dojo.html.BackgroundIframe"}}},"dojo.html.BackgroundIframe.hide":{"_":{"meta":{"summary":"","src":"\t\tif(!this.iframe) { return; }\n\t\tthis.iframe.style.display = \"none\";","this":"dojo.html.BackgroundIframe"}}},"dojo.html.BackgroundIframe.remove":{"_":{"meta":{"summary":"","src":"\t\tdojo.dom.removeNode(this.iframe);","this":"dojo.html.BackgroundIframe"}}}}}},"dojo.html.layout":{"meta":{"requires":{"common":["dojo.html.common","dojo.html.style","dojo.html.display"]},"functions":{"dojo.html.sumAncestorProperties":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"prop":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tif(!node){ return 0; } \/\/ FIXME: throw an error?\n\t\n\tvar retVal = 0;\n\twhile(node){\n\t\tif(dojo.html.getComputedStyle(node, 'position') == 'fixed'){\n\t\t\treturn 0;\n\t\t}\n\t\tvar val = node[prop];\n\t\tif(val){\n\t\t\tretVal += val - 0;\n\t\t\tif(node==dojo.body()){ break; }\/\/ opera and khtml #body & #html has the same values, we only need one value\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\treturn retVal;","returns":"FIXME: throw an error?"}}},"dojo.html.setStyleAttributes":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"attributes":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar splittedAttribs=attributes.replace(\/(;)?\\s*$\/, \"\").split(\";\"); \n\tfor(var i=0; i<splittedAttribs.length; i++){ \n\t\tvar nameValue=splittedAttribs[i].split(\":\"); \n\t\tvar name=nameValue[0].replace(\/\\s*$\/, \"\").replace(\/^\\s*\/, \"\").toLowerCase();\n\t\tvar value=nameValue[1].replace(\/\\s*$\/, \"\").replace(\/^\\s*\/, \"\");\n\t\tswitch(name){\n\t\t\tcase \"opacity\":\n\t\t\t\tdojo.html.setOpacity(node, value); \n\t\t\t\tbreak; \n\t\t\tcase \"content-height\":\n\t\t\t\tdojo.html.setContentBox(node, {height: value}); \n\t\t\t\tbreak; \n\t\t\tcase \"content-width\":\n\t\t\t\tdojo.html.setContentBox(node, {width: value}); \n\t\t\t\tbreak; \n\t\t\tcase \"outer-height\":\n\t\t\t\tdojo.html.setMarginBox(node, {height: value}); \n\t\t\t\tbreak; \n\t\t\tcase \"outer-width\":\n\t\t\t\tdojo.html.setMarginBox(node, {width: value}); \n\t\t\t\tbreak; \n\t\t\tdefault:\n\t\t\t\tnode.style[dojo.html.toCamelCase(name)]=value; \n\t\t}\n\t} "}}},"dojo.html.abs":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"includeScroll":{"type":""},"boxType":{"type":""}},"src":"\tnode = dojo.byId(node, node.ownerDocument);\n\tvar ret = {\n\t\tx: 0,\n\t\ty: 0\n\t};\n\n\tvar bs = dojo.html.boxSizing;\n\tif(!boxType) { boxType = bs.CONTENT_BOX; }\n\tvar nativeBoxType = 2; \/\/BORDER box\n\tvar targetBoxType;\n\tswitch(boxType){\n\t\tcase bs.MARGIN_BOX:\n\t\t\ttargetBoxType = 3;\n\t\t\tbreak;\n\t\tcase bs.BORDER_BOX:\n\t\t\ttargetBoxType = 2;\n\t\t\tbreak;\n\t\tcase bs.PADDING_BOX:\n\t\tdefault:\n\t\t\ttargetBoxType = 1;\n\t\t\tbreak;\n\t\tcase bs.CONTENT_BOX:\n\t\t\ttargetBoxType = 0;\n\t\t\tbreak;\n\t}\n\n\tvar h = dojo.render.html;\n\tvar db = document[\"body\"]||document[\"documentElement\"];\n\n\tif(h.ie){\n\t\twith(node.getBoundingClientRect()){\n\t\t\tret.x = left-2;\n\t\t\tret.y = top-2;\n\t\t}\n\t}else if(document.getBoxObjectFor){\n\t\t\/\/ mozilla\n\t\tnativeBoxType = 1; \/\/getBoxObjectFor return padding box coordinate\n\t\ttry{\n\t\t\tvar bo = document.getBoxObjectFor(node);\n\t\t\tret.x = bo.x - dojo.html.sumAncestorProperties(node, \"scrollLeft\");\n\t\t\tret.y = bo.y - dojo.html.sumAncestorProperties(node, \"scrollTop\");\n\t\t}catch(e){\n\t\t\t\/\/ squelch\n\t\t}\n\t}else{\n\t\tif(node[\"offsetParent\"]){\n\t\t\tvar endNode;\n\t\t\t\/\/ in Safari, if the node is an absolutely positioned child of\n\t\t\t\/\/ the body and the body has a margin the offset of the child\n\t\t\t\/\/ and the body contain the body's margins, so we need to end\n\t\t\t\/\/ at the body\n\t\t\tif(\t(h.safari)&&\n\t\t\t\t(node.style.getPropertyValue(\"position\") == \"absolute\")&&\n\t\t\t\t(node.parentNode == db)){\n\t\t\t\tendNode = db;\n\t\t\t}else{\n\t\t\t\tendNode = db.parentNode;\n\t\t\t}\n\n\t\t\t\/\/TODO: set correct nativeBoxType for safari\/konqueror\n\n\t\t\tif(node.parentNode != db){\n\t\t\t\tvar nd = node;\n\t\t\t\tif(dojo.render.html.opera){ nd = db; }\n\t\t\t\tret.x -= dojo.html.sumAncestorProperties(nd, \"scrollLeft\");\n\t\t\t\tret.y -= dojo.html.sumAncestorProperties(nd, \"scrollTop\");\n\t\t\t}\n\t\t\tvar curnode = node;\n\t\t\tdo{\n\t\t\t\tvar n = curnode[\"offsetLeft\"];\n\t\t\t\t\/\/FIXME: ugly hack to workaround the submenu in \n\t\t\t\t\/\/popupmenu2 does not shown up correctly in opera. \n\t\t\t\t\/\/Someone have a better workaround?\n\t\t\t\tif(!h.opera || n>0){\n\t\t\t\t\tret.x += isNaN(n) ? 0 : n;\n\t\t\t\t}\n\t\t\t\tvar m = curnode[\"offsetTop\"];\n\t\t\t\tret.y += isNaN(m) ? 0 : m;\n\t\t\t\tcurnode = curnode.offsetParent;\n\t\t\t}while((curnode != endNode)&&(curnode != null));\n\t\t}else if(node[\"x\"]&&node[\"y\"]){\n\t\t\tret.x += isNaN(node.x) ? 0 : node.x;\n\t\t\tret.y += isNaN(node.y) ? 0 : node.y;\n\t\t}\n\t}\n\n\t\/\/ account for document scrolling!\n\tif(includeScroll){\n\t\tvar scroll = dojo.html.getScroll();\n\t\tret.y += scroll.top;\n\t\tret.x += scroll.left;\n\t}\n\n\tvar extentFuncArray=[dojo.html.getPaddingExtent, dojo.html.getBorderExtent, dojo.html.getMarginExtent];\n\tif(nativeBoxType > targetBoxType){\n\t\tfor(var i=targetBoxType;i<nativeBoxType;++i){\n\t\t\tret.y += extentFuncArray[i](node, 'top');\n\t\t\tret.x += extentFuncArray[i](node, 'left');\n\t\t}\n\t}else if(nativeBoxType < targetBoxType){\n\t\tfor(var i=targetBoxType;i>nativeBoxType;--i){\n\t\t\tret.y -= extentFuncArray[i-1](node, 'top');\n\t\t\tret.x -= extentFuncArray[i-1](node, 'left');\n\t\t}\n\t}\n\n\tret.top = ret.y;\n\tret.left = ret.x;\n\n\treturn ret;"}}},"dojo.html.isPositionAbsolute":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn (dojo.html.getComputedStyle(node, 'position') == 'absolute')"}}},"dojo.html._sumPixelValues":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"selectors":{"type":""},"autoIsZero":{"type":""}},"src":"\tvar total = 0;\n\tfor(var x=0; x<selectors.length; x++){\n\t\ttotal += dojo.html.getPixelValue(node, selectors[x], autoIsZero);\n\t}\n\treturn total;"}}},"dojo.html.getMargin":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn {\n\t\twidth: dojo.html._sumPixelValues(node, [\"margin-left\", \"margin-right\"], (dojo.html.getComputedStyle(node, 'position') == 'absolute')),\n\t\theight: dojo.html._sumPixelValues(node, [\"margin-top\", \"margin-bottom\"], (dojo.html.getComputedStyle(node, 'position') == 'absolute'))\n\t};"}}},"dojo.html.getBorder":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn {\n\t\twidth: dojo.html.getBorderExtent(node, 'left') + dojo.html.getBorderExtent(node, 'right'),\n\t\theight: dojo.html.getBorderExtent(node, 'top') + dojo.html.getBorderExtent(node, 'bottom')\n\t};"}}},"dojo.html.getBorderExtent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"side":{"type":""}},"src":"\treturn (dojo.html.getStyle(node, 'border-' + side + '-style') == 'none' ? 0 : dojo.html.getPixelValue(node, 'border-' + side + '-width'));"}}},"dojo.html.getMarginExtent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"side":{"type":""}},"src":"\treturn dojo.html._sumPixelValues(node, [\"margin-\" + side], dojo.html.isPositionAbsolute(node));"}}},"dojo.html.getPaddingExtent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"side":{"type":""}},"src":"\treturn dojo.html._sumPixelValues(node, [\"padding-\" + side], true);"}}},"dojo.html.getPadding":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn {\n\t\twidth: dojo.html._sumPixelValues(node, [\"padding-left\", \"padding-right\"], true),\n\t\theight: dojo.html._sumPixelValues(node, [\"padding-top\", \"padding-bottom\"], true)\n\t};"}}},"dojo.html.getPadBorder":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar pad = dojo.html.getPadding(node);\n\tvar border = dojo.html.getBorder(node);\n\treturn { width: pad.width + border.width, height: pad.height + border.height };"}}},"dojo.html.getBoxSizing":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar h = dojo.render.html;\n\tvar bs = dojo.html.boxSizing;\n\tif((h.ie)||(h.opera)){ \n\t\tvar cm = document[\"compatMode\"];\n\t\tif((cm == \"BackCompat\")||(cm == \"QuirksMode\")){ \n\t\t\treturn bs.BORDER_BOX; \n\t\t}else{\n\t\t\treturn bs.CONTENT_BOX; \n\t\t}\n\t}else{\n\t\tif(arguments.length == 0){ node = document.documentElement; }\n\t\tvar sizing = dojo.html.getStyle(node, \"-moz-box-sizing\");\n\t\tif(!sizing){ sizing = dojo.html.getStyle(node, \"box-sizing\"); }\n\t\treturn (sizing ? sizing : bs.CONTENT_BOX);\n\t}"}}},"dojo.html.isBorderBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn (dojo.html.getBoxSizing(node) == dojo.html.boxSizing.BORDER_BOX);"}}},"dojo.html.getBorderBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\treturn { width: node.offsetWidth, height: node.offsetHeight };"}}},"dojo.html.getPaddingBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar box = dojo.html.getBorderBox(node);\n\tvar border = dojo.html.getBorder(node);\n\treturn {\n\t\twidth: box.width - border.width,\n\t\theight:box.height - border.height\n\t};"}}},"dojo.html.getContentBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar padborder = dojo.html.getPadBorder(node);\n\treturn {\n\t\twidth: node.offsetWidth - padborder.width,\n\t\theight: node.offsetHeight - padborder.height\n\t};"}}},"dojo.html.setContentBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"args":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar width = 0; var height = 0;\n\tvar isbb = dojo.html.isBorderBox(node);\n\tvar padborder = (isbb ? dojo.html.getPadBorder(node) : { width: 0, height: 0});\n\tvar ret = {};\n\tif(typeof args.width != undefined){\n\t\twidth = args.width + padborder.width;\n\t\tret.width = dojo.html.setPositivePixelValue(node, \"width\", width);\n\t}\n\tif(typeof args.height != undefined){\n\t\theight = args.height + padborder.height;\n\t\tret.height = dojo.html.setPositivePixelValue(node, \"height\", height);\n\t}\n\treturn ret;"}}},"dojo.html.getMarginBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar borderbox = dojo.html.getBorderBox(node);\n\tvar margin = dojo.html.getMargin(node);\n\treturn { width: borderbox.width + margin.width, height: borderbox.height + margin.height };"}}},"dojo.html.setMarginBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"args":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar width = 0; var height = 0;\n\tvar isbb = dojo.html.isBorderBox(node);\n\tvar padborder = (!isbb ? dojo.html.getPadBorder(node) : { width: 0, height: 0 });\n\tvar margin = dojo.html.getMargin(node);\n\tvar ret = {};\n\tif(typeof args.width != undefined){\n\t\twidth = args.width - padborder.width;\n\t\twidth -= margin.width;\n\t\tret.width = dojo.html.setPositivePixelValue(node, \"width\", width);\n\t}\n\tif(typeof args.height != undefined){\n\t\theight = args.height - padborder.height;\n\t\theight -= margin.height;\n\t\tret.height = dojo.html.setPositivePixelValue(node, \"height\", height);\n\t}\n\treturn ret;"}}},"dojo.html.getElementBox":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"type":{"type":""}},"src":"\tvar bs = dojo.html.boxSizing;\n\tswitch(type){\n\t\tcase bs.MARGIN_BOX:\n\t\t\treturn dojo.html.getMarginBox(node);\n\t\tcase bs.BORDER_BOX:\n\t\t\treturn dojo.html.getBorderBox(node);\n\t\tcase bs.PADDING_BOX:\n\t\t\treturn dojo.html.getPaddingBox(node);\n\t\tcase bs.CONTENT_BOX:\n\t\tdefault:\n\t\t\treturn dojo.html.getContentBox(node);\n\t}"}}},"dojo.html.toCoordinateArray":{"_":{"meta":{"summary":"","parameters":{"coords":{"type":""},"includeScroll":{"type":""},"boxtype":{"type":""}},"src":"\tif(coords instanceof Array || typeof coords == \"array\"){\n\t\tdojo.deprecated(\"dojo.html.toCoordinateArray\", \"use dojo.html.toCoordinateObject({left: , top: , width: , height: }) instead\", \"0.5\");\n\t\t\/\/ coords is already an array (of format [x,y,w,h]), just return it\n\t\twhile ( coords.length < 4 ) { coords.push(0); }\n\t\twhile ( coords.length > 4 ) { coords.pop(); }\n\t\tvar ret = {\n\t\t\tleft: coords[0],\n\t\t\ttop: coords[1],\n\t\t\twidth: coords[2],\n\t\t\theight: coords[3]\n\t\t};\n\t}else if(!coords.nodeType && !(coords instanceof String || typeof coords == \"string\") &&\n\t\t\t ('width' in coords || 'height' in coords || 'left' in coords ||\n\t\t\t  'x' in coords || 'top' in coords || 'y' in coords)){\n\t\t\/\/ coords is a coordinate object or at least part of one\n\t\tvar ret = {\n\t\t\tleft: coords.left||coords.x||0,\n\t\t\ttop: coords.top||coords.y||0,\n\t\t\twidth: coords.width||0,\n\t\t\theight: coords.height||0\n\t\t};\n\t}else{\n\t\t\/\/ coords is an dom object (or dom object id); return it's coordinates\n\t\tvar node = dojo.byId(coords);\n\t\tvar pos = dojo.html.abs(node, includeScroll, boxtype);\n\t\tvar marginbox = dojo.html.getMarginBox(node);\n\t\tvar ret = {\n\t\t\tleft: pos.left,\n\t\t\ttop: pos.top,\n\t\t\twidth: marginbox.width,\n\t\t\theight: marginbox.height\n\t\t};\n\t}\n\tret.x = ret.left;\n\tret.y = ret.top;\n\treturn ret;"}}},"dojo.html.setOuterWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"width":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"setMarginBoxWidth\", \"setMarginBox\", arguments, \"width\");"}}},"dojo.html.setOuterHeight":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"setMarginBoxHeight\", \"setMarginBox\", arguments, \"height\");"}}},"dojo.html.getOuterWidth":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getMarginBoxWidth\", \"getMarginBox\", arguments, null, \"width\");"}}},"dojo.html.getOuterHeight":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getMarginBoxHeight\", \"getMarginBox\", arguments, null, \"height\");"}}},"dojo.html.getTotalOffset":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"type":{"type":""},"includeScroll":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getTotalOffset\", \"getAbsolutePosition\", arguments, null, type);"}}},"dojo.html.getAbsoluteX":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"includeScroll":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getAbsoluteX\", \"getAbsolutePosition\", arguments, null, \"x\");"}}},"dojo.html.getAbsoluteY":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"includeScroll":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getAbsoluteY\", \"getAbsolutePosition\", arguments, null, \"y\");"}}},"dojo.html.totalOffsetLeft":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"includeScroll":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"totalOffsetLeft\", \"getAbsolutePosition\", arguments, null, \"left\");"}}},"dojo.html.totalOffsetTop":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"includeScroll":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"totalOffsetTop\", \"getAbsolutePosition\", arguments, null, \"top\");"}}},"dojo.html.getMarginWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getMarginWidth\", \"getMargin\", arguments, null, \"width\");"}}},"dojo.html.getMarginHeight":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getMarginHeight\", \"getMargin\", arguments, null, \"height\");"}}},"dojo.html.getBorderWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getBorderWidth\", \"getBorder\", arguments, null, \"width\");"}}},"dojo.html.getBorderHeight":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getBorderHeight\", \"getBorder\", arguments, null, \"height\");"}}},"dojo.html.getPaddingWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getPaddingWidth\", \"getPadding\", arguments, null, \"width\");"}}},"dojo.html.getPaddingHeight":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getPaddingHeight\", \"getPadding\", arguments, null, \"height\");"}}},"dojo.html.getPadBorderWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getPadBorderWidth\", \"getPadBorder\", arguments, null, \"width\");"}}},"dojo.html.getPadBorderHeight":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"getPadBorderHeight\", \"getPadBorder\", arguments, null, \"height\");"}}},"dojo.html.getInnerWidth":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getBorderBoxWidth\", \"getBorderBox\", arguments, null, \"width\");"}}},"dojo.html.getInnerHeight":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getBorderBoxHeight\", \"getBorderBox\", arguments, null, \"height\");"}}},"dojo.html.getContentWidth":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getContentBoxWidth\", \"getContentBox\", arguments, null, \"width\");"}}},"dojo.html.getContentHeight":{"_":{"meta":{"summary":"","src":"\treturn dojo.html._callDeprecated(\"getContentBoxHeight\", \"getContentBox\", arguments, null, \"height\");"}}},"dojo.html.setContentWidth":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"width":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"setContentBoxWidth\", \"setContentBox\", arguments, \"width\");"}}},"dojo.html.setContentHeight":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"height":{"type":""}},"src":"\treturn dojo.html._callDeprecated(\"setContentBoxHeight\", \"setContentBox\", arguments, \"height\");"}}}}}},"dojo.html.selection":{"meta":{"requires":{"common":["dojo.html.common","dojo.dom","dojo.lang.common"]},"functions":{"dojo.html.clearSelection":{"_":{"meta":{"summary":"","src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\ttry{\n\t\tif(_window[\"getSelection\"]){ \n\t\t\tif(dojo.render.html.safari){\n\t\t\t\t\/\/ pulled from WebCore\/ecma\/kjs_window.cpp, line 2536\n\t\t\t\t_window.getSelection().collapse();\n\t\t\t}else{\n\t\t\t\t_window.getSelection().removeAllRanges();\n\t\t\t}\n\t\t}else if(_document.selection){\n\t\t\tif(_document.selection.empty){\n\t\t\t\t_document.selection.empty();\n\t\t\t}else if(_document.selection.clear){\n\t\t\t\t_document.selection.clear();\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}catch(e){\n\t\tdojo.debug(e);\n\t\treturn false;\n\t}"}}},"dojo.html.disableSelection":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""}},"src":"\telement = dojo.byId(element)||dojo.body();\n\tvar h = dojo.render.html;\n\t\n\tif(h.mozilla){\n\t\telement.style.MozUserSelect = \"none\";\n\t}else if(h.safari){\n\t\telement.style.KhtmlUserSelect = \"none\"; \n\t}else if(h.ie){\n\t\telement.unselectable = \"on\";\n\t}else{\n\t\treturn false;\n\t}\n\treturn true;"}}},"dojo.html.enableSelection":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""}},"src":"\telement = dojo.byId(element)||dojo.body();\n\t\n\tvar h = dojo.render.html;\n\tif(h.mozilla){ \n\t\telement.style.MozUserSelect = \"\"; \n\t}else if(h.safari){\n\t\telement.style.KhtmlUserSelect = \"\";\n\t}else if(h.ie){\n\t\telement.unselectable = \"off\";\n\t}else{\n\t\treturn false;\n\t}\n\treturn true;"}}},"dojo.html.selectElement":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""}},"src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\telement = dojo.byId(element);\n\tif(_document.selection && dojo.body().createTextRange){ \/\/ IE\n\t\tvar range = dojo.body().createTextRange();\n\t\trange.moveToElementText(element);\n\t\trange.select();\n\t}else if(_window[\"getSelection\"]){\n\t\tvar selection = _window.getSelection();\n\t\t\/\/ FIXME: does this work on Safari?\n\t\tif(selection[\"selectAllChildren\"]){ \/\/ Mozilla\n\t\t\tselection.selectAllChildren(element);\n\t\t}\n\t}"}}},"dojo.html.selectInputText":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""}},"src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\telement = dojo.byId(element);\n\tif(_document[\"selection\"] && dojo.body()[\"createTextRange\"]){ \/\/ IE\n\t\tvar range = element.createTextRange();\n\t\trange.moveStart(\"character\", 0);\n\t\trange.moveEnd(\"character\", element.value.length);\n\t\trange.select();\n\t}else if(_window[\"getSelection\"]){\n\t\tvar selection = _window.getSelection();\n\t\t\/\/ FIXME: does this work on Safari?\n\t\telement.setSelectionRange(0, element.value.length);\n\t}\n\telement.focus();"}}},"dojo.html.isSelectionCollapsed":{"_":{"meta":{"summary":"","src":"\tvar _window = dojo.global();\n\tvar _document = dojo.doc();\n\tif(_document[\"selection\"]){ \/\/ IE\n\t\treturn _document.selection.createRange().text == \"\";\n\t}else if(_window[\"getSelection\"]){\n\t\tvar selection = _window.getSelection();\n\t\tif(dojo.lang.isString(selection)){ \/\/ Safari\n\t\t\treturn selection == \"\";\n\t\t}else{ \/\/ Mozilla\/W3\n\t\t\treturn selection.isCollapsed || selection.toString() == \"\";\n\t\t}\n\t}"}}},"dojo.html.selection.getType":{"_":{"meta":{"summary":"Get the selection type (like document.select.type in IE). IE","src":"\t\t\treturn dojo.html.selectionType[dojo.doc().selection.type.toUpperCase()];\n\t\t}else{\n\t\t\tvar stype = dojo.html.selectionType.TEXT;\n\t\n\t\t\t\/\/ Check if the actual selection is a CONTROL (IMG, TABLE, HR, etc...).\n\t\t\tvar oSel;\n\t\t\ttry {oSel = dojo.global().getSelection();}\n\t\t\tcatch (e) {}\n\t\t\t\n\t\t\tif(oSel && oSel.rangeCount==1){\n\t\t\t\tvar oRange = oSel.getRangeAt(0);\n\t\t\t\tif (oRange.startContainer == oRange.endContainer && (oRange.endOffset - oRange.startOffset) == 1\n\t\t\t\t\t&& oRange.startContainer.nodeType != dojo.dom.TEXT_NODE) {\n\t\t\t\t\tstype = dojo.html.selectionType.CONTROL;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stype;\n\t\t}"}}},"dojo.html.selection.getSelectedElement":{"_":{"meta":{"summary":" Retrieves the selected element (if any), just in the case that a single element (object like and image or a table) is selected.","src":"\t\t\tif(dojo.doc()[\"selection\"]){ \/\/IE\n\t\t\t\tvar range = dojo.doc().selection.createRange();\n\t\t\n\t\t\t\tif ( range && range.item ){\n\t\t\t\t\treturn dojo.doc().selection.createRange().item(0);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar selection = dojo.global().getSelection();\n\t\t\t\treturn selection.anchorNode.childNodes[ selection.anchorOffset ];\n\t\t\t}\n\t\t}"}}},"dojo.html.selection.getParentElement":{"_":{"meta":{"summary":" Get the parent element of the current selection","src":"\t\t\tvar p = dojo.html.selection.getSelectedElement();\n\t\t\tif(p){ return p.parentNode; }\n\t\t}else{\n\t\t\tif(dojo.doc()[\"selection\"]){ \/\/IE\n\t\t\t\treturn dojo.doc().selection.createRange().parentElement();\n\t\t\t}else{\n\t\t\t\tvar selection = dojo.global().getSelection();\n\t\t\t\tif(selection){\n\t\t\t\t\tvar node = selection.anchorNode;\n\t\t\n\t\t\t\t\twhile ( node && node.nodeType != dojo.dom.ELEMENT_NODE ){\n\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t}\n\t\t}"}}},"dojo.html.selection.getSelectedText":{"_":{"meta":{"summary":" Return the text (no html tags) included in the current selection or null if no text is selected IE","src":"\t\t\tif(dojo.html.selection.getType() == dojo.html.selectionType.CONTROL){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn dojo.doc().selection.createRange().text;\n\t\t}else{\n\t\t\tvar selection = dojo.global().getSelection();\n\t\t\tif(selection){\n\t\t\t\treturn selection.toString();\n\t\t\t}\n\t\t}"}}},"dojo.html.selection.getSelectedHtml":{"_":{"meta":{"summary":" Return the html of the current selection or null if unavailable IE","src":"\t\t\tif(dojo.html.selection.getType() == dojo.html.selectionType.CONTROL){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn dojo.doc().selection.createRange().htmlText;\n\t\t}else{\n\t\t\tvar selection = dojo.global().getSelection();\n\t\t\tif(selection && selection.rangeCount){\n\t\t\t\tvar frag = selection.getRangeAt(0).cloneContents();\n\t\t\t\tvar div = document.createElement(\"div\");\n\t\t\t\tdiv.appendChild(frag);\n\t\t\t\treturn div.innerHTML;\n\t\t\t}\n\t\t\treturn null;\n\t\t}"}}},"dojo.html.selection.hasAncestorElement":{"_":{"meta":{"summary":"","parameters":{"tagName":{"type":"..."}},"src":"\t\treturn (dojo.html.selection.getAncestorElement.apply(this, arguments) != null);"}}},"dojo.html.selection.getAncestorElement":{"_":{"meta":{"summary":" Return the parent element of the current selection which is of type tagName (or one of the other specified tagName)","parameters":{"tagName":{"type":"..."}},"src":"\t\twhile(node \/*&& node.tagName.toLowerCase() != 'body'*\/){\n\t\t\tif(dojo.html.selection.isTag(node, arguments).length>0){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn null;"}}},"dojo.html.selection.isTag":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"tags":{"type":""}},"src":"\t\tif(node && node.tagName) {\n\t\t\tfor (var i=0; i<tags.length; i++){\n\t\t\t\tif (node.tagName.toLowerCase()==String(tags[i]).toLowerCase()){\n\t\t\t\t\treturn String(tags[i]).toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";"}}},"dojo.html.selection.selectElement":{"_":{"meta":{"summary":"clear previous selection and select element","parameters":{"element":{"type":""}},"src":"\t\tvar _document = dojo.doc();\n\t\telement = dojo.byId(element);\n\t\tif(_document.selection && dojo.body().createTextRange){ \/\/ IE\n\t\t\ttry{\n\t\t\t\tvar range = dojo.body().createControlRange();\n\t\t\t\trange.addElement(element);\n\t\t\t\trange.select();\n\t\t\t}catch(e){\n\t\t\t\tdojo.html.selection.selectElementChildren(element);\n\t\t\t}\n\t\t}else if(_window[\"getSelection\"]){\n\t\t\tvar selection = _window.getSelection();\n\t\t\t\/\/ FIXME: does this work on Safari?\n\t\t\tif(selection[\"removeAllRanges\"]){ \/\/ Mozilla\n\t\t\t\tvar range = _document.createRange() ;\n\t\t\t\trange.selectNode(element) ;\n\t\t\t\tselection.removeAllRanges() ;\n\t\t\t\tselection.addRange(range) ;\n\t\t\t}\n\t\t}"}}},"dojo.html.selection.selectElementChildren":{"_":{"meta":{"summary":"clear previous selection and select the content of the node","parameters":{"element":{"type":""}},"src":"\t\tvar _document = dojo.doc();\n\t\telement = dojo.byId(element);\n\t\tif(_document.selection && dojo.body().createTextRange){ \/\/ IE\n\t\t\tvar range = dojo.body().createTextRange();\n\t\t\trange.moveToElementText(element);\n\t\t\trange.select();\n\t\t}else if(_window[\"getSelection\"]){\n\t\t\tvar selection = _window.getSelection();\n\t\t\t\/\/ FIXME: does this work on Safari?\n\t\t\tif(selection[\"selectAllChildren\"]){ \/\/ Mozilla\n\t\t\t\tselection.selectAllChildren(element);\n\t\t\t}\n\t\t}"}}},"dojo.html.selection.collapse":{"_":{"meta":{"summary":"clear selection","parameters":{"beginning":{"type":""}},"src":"\t\t\tvar selection = dojo.global().getSelection();\n\t\t\tif(selection.removeAllRanges){ \/\/ Mozilla\n\t\t\t\tif(beginning){\n\t\t\t\t\tselection.collapseToStart();\n\t\t\t\t}else{\n\t\t\t\t\tselection.collapseToEnd();\n\t\t\t\t}\n\t\t\t}else{ \/\/ Safari\n\t\t\t\t\/\/ not a great deal we can do\n\t\t\t}\n\t\t}else if(dojo.doc().selection){ \/\/ IE\n\t\t\tvar range = dojo.doc().selection.createRange();\n\t\t\trange.collapse(beginning);\n\t\t\trange.select();\n\t\t}"}}},"dojo.html.selection.remove":{"_":{"meta":{"summary":"delete selection IE","src":"\t\t\tvar selection = dojo.doc().selection;\n\n\t\t\tif ( selection.type.toUpperCase() != \"NONE\" ){\n\t\t\t\tselection.clear();\n\t\t\t}\n\t\t\n\t\t\treturn selection;\n\t\t}else{\n\t\t\tvar selection = dojo.global().getSelection();\n\n\t\t\tfor ( var i = 0; i < selection.rangeCount; i++ ){\n\t\t\t\tselection.getRangeAt(i).deleteContents();\n\t\t\t}\n\t\t\n\t\t\treturn selection;\n\t\t}"}}}}}},"dojo.html.shadow":{"meta":{"requires":{"common":["dojo.lang.common","dojo.uri.Uri"]},"functions":{"dojo.html.shadow":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tthis.init(node);","protovariables":{"shadowPng":"","shadowThickness":"","shadowOffset":""},"this_variables":["node","pieces"]}}},"dojo.html.shadow.init":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\t\tthis.node=node;\n\n\t\t\/\/ make all the pieces of the shadow, and position\/size them as much\n\t\t\/\/ as possible (but a lot of the coordinates are set in sizeShadow\n\t\tthis.pieces={};\n\t\tvar x1 = -1 * this.shadowThickness;\n\t\tvar y0 = this.shadowOffset;\n\t\tvar y1 = this.shadowOffset + this.shadowThickness;\n\t\tthis._makePiece(\"tl\", \"top\", y0, \"left\", x1);\n\t\tthis._makePiece(\"l\", \"top\", y1, \"left\", x1, \"scale\");\n\t\tthis._makePiece(\"tr\", \"top\", y0, \"left\", 0);\n\t\tthis._makePiece(\"r\", \"top\", y1, \"left\", 0, \"scale\");\n\t\tthis._makePiece(\"bl\", \"top\", 0, \"left\", x1);\n\t\tthis._makePiece(\"b\", \"top\", 0, \"left\", 0, \"crop\");\n\t\tthis._makePiece(\"br\", \"top\", 0, \"left\", 0);","this":"dojo.html.shadow"}}},"dojo.html.shadow._makePiece":{"_":{"meta":{"summary":"","parameters":{"name":{"type":""},"vertAttach":{"type":""},"vertCoord":{"type":""},"horzAttach":{"type":""},"horzCoord":{"type":""},"sizing":{"type":""}},"src":"\t\tvar img;\n\t\tvar url = this.shadowPng + name.toUpperCase() + \".png\";\n\t\tif(dojo.render.html.ie){\n\t\t\timg=dojo.doc().createElement(\"div\");\n\t\t\timg.style.filter=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='\"+url+\"'\"+\n\t\t\t(sizing?\", sizingMethod='\"+sizing+\"'\":\"\") + \")\";\n\t\t}else{\n\t\t\timg=dojo.doc().createElement(\"img\");\n\t\t\timg.src=url;\n\t\t}\n\t\timg.style.position=\"absolute\";\n\t\timg.style[vertAttach]=vertCoord+\"px\";\n\t\timg.style[horzAttach]=horzCoord+\"px\";\n\t\timg.style.width=this.shadowThickness+\"px\";\n\t\timg.style.height=this.shadowThickness+\"px\";\n\t\tthis.pieces[name]=img;\n\t\tthis.node.appendChild(img);","this":"dojo.html.shadow"}}},"dojo.html.shadow.size":{"_":{"meta":{"summary":"","parameters":{"width":{"type":""},"height":{"type":""}},"src":"\t\tvar sideHeight = height - (this.shadowOffset+this.shadowThickness+1);\n\t\tif (sideHeight < 0) { sideHeight = 0; }\n\t\tif (height < 1) { height = 1; }\n\t\tif (width < 1) { width = 1; }\n\t\twith(this.pieces){\n\t\t\tl.style.height = sideHeight+\"px\";\n\t\t\tr.style.height = sideHeight+\"px\";\n\t\t\tb.style.width = (width-1)+\"px\";\n\t\t\tbl.style.top = (height-1)+\"px\";\n\t\t\tb.style.top = (height-1)+\"px\";\n\t\t\tbr.style.top = (height-1)+\"px\";\n\t\t\ttr.style.left = (width-1)+\"px\";\n\t\t\tr.style.left = (width-1)+\"px\";\n\t\t\tbr.style.left = (width-1)+\"px\";\n\t\t}","this":"dojo.html.shadow"}}}}}},"dojo.html.style":{"meta":{"requires":{"common":["dojo.uri.Uri"]},"functions":{"dojo.html.getClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tif(!node){ return \"\"; }\n\tvar cs = \"\";\n\tif(node.className){\n\t\tcs = node.className;\n\t}else if(dojo.html.hasAttribute(node, \"class\")){\n\t\tcs = dojo.html.getAttribute(node, \"class\");\n\t}\n\treturn cs.replace(\/^\\s+|\\s+$\/g, \"\");"}}},"dojo.html.getClasses":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tvar c = dojo.html.getClass(node);\n\treturn (c == \"\") ? [] : c.split(\/\\s+\/g);"}}},"dojo.html.hasClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"classname":{"type":""}},"src":"\treturn (new RegExp('(^|\\\\s+)'+classname+'(\\\\s+|$)')).test(dojo.html.getClass(node))"}}},"dojo.html.prependClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"classStr":{"type":""}},"src":"\tclassStr += \" \" + dojo.html.getClass(node);\n\treturn dojo.html.setClass(node, classStr);"}}},"dojo.html.addClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"classStr":{"type":""}},"src":"\tif (dojo.html.hasClass(node, classStr)) {\n\t  return false;\n\t}\n\tclassStr = (dojo.html.getClass(node) + \" \" + classStr).replace(\/^\\s+|\\s+$\/g,\"\");\n\treturn dojo.html.setClass(node, classStr);"}}},"dojo.html.setClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"classStr":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar cs = new String(classStr);\n\ttry{\n\t\tif(typeof node.className == \"string\"){\n\t\t\tnode.className = cs;\n\t\t}else if(node.setAttribute){\n\t\t\tnode.setAttribute(\"class\", classStr);\n\t\t\tnode.className = cs;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}catch(e){\n\t\tdojo.debug(\"dojo.html.setClass() failed\", e);\n\t}\n\treturn true;"}}},"dojo.html.removeClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"classStr":{"type":""},"allowPartialMatches":{"type":""}},"src":"\t\tif (!allowPartialMatches) {\n\t\t\tvar newcs = dojo.html.getClass(node).replace(new RegExp('(^|\\\\s+)'+classStr+'(\\\\s+|$)'), \"$1$2\");\n\t\t} else {\n\t\t\tvar newcs = dojo.html.getClass(node).replace(classStr,'');\n\t\t}\n\t\tdojo.html.setClass(node, newcs);\n\t\t\/\/dojo.debug(\"now class \"+newcs)\n\t}catch(e){\n\t\tdojo.debug(\"dojo.html.removeClass() failed\", e);\n\t}\n\n\treturn true;"}}},"dojo.html.replaceClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"newClass":{"type":""},"oldClass":{"type":""}},"src":"\tdojo.html.removeClass(node, oldClass);\n\tdojo.html.addClass(node, newClass);"}}},"dojo.html.getElementsByClass":{"_":{"meta":{"summary":"","parameters":{"classStr":{"type":""},"parent":{"type":""},"nodeType":{"type":""},"classMatchType":{"type":""},"useNonXpath":{"type":""}},"src":"\tvar _document = dojo.doc();\n\tparent = dojo.byId(parent) || _document;\n\tvar classes = classStr.split(\/\\s+\/g);\n\tvar nodes = [];\n\tif( classMatchType != 1 && classMatchType != 2 ) classMatchType = 0; \/\/ make it enum\n\tvar reClass = new RegExp(\"(\\\\s|^)((\" + classes.join(\")|(\") + \"))(\\\\s|$)\");\n\tvar srtLength = classes.join(\" \").length;\n\tvar candidateNodes = [];\n\t\n\tif(!useNonXpath && _document.evaluate) { \/\/ supports dom 3 xpath\n\t\tvar xpath = \".\/\/\" + (nodeType || \"*\") + \"[contains(\";\n\t\tif(classMatchType != dojo.html.classMatchType.ContainsAny){\n\t\t\txpath += \"concat(' ',@class,' '), ' \" +\n\t\t\tclasses.join(\" ') and contains(concat(' ',@class,' '), ' \") +\n\t\t\t\" ')\";\n\t\t\tif (classMatchType == 2) {\n\t\t\t\txpath += \" and string-length(@class)=\"+srtLength+\"]\";\n\t\t\t}else{\n\t\t\t\txpath += \"]\";\n\t\t\t}\n\t\t}else{\n\t\t\txpath += \"concat(' ',@class,' '), ' \" +\n\t\t\tclasses.join(\" ') or contains(concat(' ',@class,' '), ' \") +\n\t\t\t\" ')]\";\n\t\t}\n\t\tvar xpathResult = _document.evaluate(xpath, parent, null, XPathResult.ANY_TYPE, null);\n\t\tvar result = xpathResult.iterateNext();\n\t\twhile(result){\n\t\t\ttry{\n\t\t\t\tcandidateNodes.push(result);\n\t\t\t\tresult = xpathResult.iterateNext();\n\t\t\t}catch(e){ break; }\n\t\t}\n\t\treturn candidateNodes;\n\t}else{\n\t\tif(!nodeType){\n\t\t\tnodeType = \"*\";\n\t\t}\n\t\tcandidateNodes = parent.getElementsByTagName(nodeType);\n\n\t\tvar node, i = 0;\n\t\touter:\n\t\twhile(node = candidateNodes[i++]){\n\t\t\tvar nodeClasses = dojo.html.getClasses(node);\n\t\t\tif(nodeClasses.length == 0){ continue outer; }\n\t\t\tvar matches = 0;\n\t\n\t\t\tfor(var j = 0; j < nodeClasses.length; j++){\n\t\t\t\tif(reClass.test(nodeClasses[j])){\n\t\t\t\t\tif(classMatchType == dojo.html.classMatchType.ContainsAny){\n\t\t\t\t\t\tnodes.push(node);\n\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmatches++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(classMatchType == dojo.html.classMatchType.IsOnly){\n\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif(matches == classes.length){\n\t\t\t\tif(\t(classMatchType == dojo.html.classMatchType.IsOnly)&&\n\t\t\t\t\t(matches == nodeClasses.length)){\n\t\t\t\t\tnodes.push(node);\n\t\t\t\t}else if(classMatchType == dojo.html.classMatchType.ContainsAll){\n\t\t\t\t\tnodes.push(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn nodes;\n\t}"}}},"dojo.html.toCamelCase":{"_":{"meta":{"summary":"","parameters":{"selector":{"type":""}},"src":"\tvar arr = selector.split('-'), cc = arr[0];\n\tfor(var i = 1; i < arr.length; i++) {\n\t\tcc += arr[i].charAt(0).toUpperCase() + arr[i].substring(1);\n\t}\n\treturn cc;"}}},"dojo.html.toSelectorCase":{"_":{"meta":{"summary":"","parameters":{"selector":{"type":""}},"src":"\treturn selector.replace(\/([A-Z])\/g, \"-$1\" ).toLowerCase();"}}},"dojo.html.getComputedStyle":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""},"inValue":{"type":""}},"src":"\tnode = dojo.byId(node);\n\t\/\/ cssSelector may actually be in camel case, so force selector version\n\tvar cssSelector = dojo.html.toSelectorCase(cssSelector);\n\tvar property = dojo.html.toCamelCase(cssSelector);\n\tif(!node || !node.style){\n\t\treturn inValue;\n\t\t\t\t\n\t}else if(document.defaultView &&\n\t\t\t\/\/ mozilla segfaults when margin-* and node is removed from doc\n\t\t\t\/\/ FIXME: need to figure out a if there is quicker workaround\n\t\t\tdojo.dom.isDescendantOf(node, node.ownerDocument)){ \/\/ W3, gecko, KHTML\n\t\ttry{\n\t\t\tvar cs = document.defaultView.getComputedStyle(node, \"\");\n\t\t\tif (cs){\n\t\t\t\treturn cs.getPropertyValue(cssSelector);\n\t\t\t} \n\t\t}catch(e){ \/\/ reports are that Safari can throw an exception above\n\t\t\tif (node.style.getPropertyValue){ \/\/ W3\n\t\t\t\treturn node.style.getPropertyValue(cssSelector);\n\t\t\t}else return inValue;\n\t\t}\n\t}else if(node.currentStyle){ \/\/ IE\n\t\treturn node.currentStyle[property];\n\t}if(node.style.getPropertyValue){ \/\/ W3\n\t\treturn node.style.getPropertyValue(cssSelector);\n\t}else{\n\t\treturn inValue;\n\t}"}}},"dojo.html.getStyleProperty":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""}},"src":"\tnode = dojo.byId(node);\n\treturn (node && node.style ? node.style[dojo.html.toCamelCase(cssSelector)] : undefined);"}}},"dojo.html.getStyle":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""}},"src":"\tvar value = dojo.html.getStyleProperty(node, cssSelector);\n\treturn (value ? value : dojo.html.getComputedStyle(node, cssSelector));"}}},"dojo.html.setStyle":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""},"value":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tif(node && node.style){\n\t\tvar camelCased = dojo.html.toCamelCase(cssSelector);\n\t\tnode.style[camelCased] = value;\n\t}"}}},"dojo.html.setStyleText":{"_":{"meta":{"summary":"","parameters":{"target":{"type":""},"text":{"type":""}},"src":"\ttry {\n\t \ttarget.style.cssText = text;\n\t} catch (e) {\n\t\ttarget.setAttribute(\"style\", text);\n\t}"}}},"dojo.html.copyStyle":{"_":{"meta":{"summary":"","parameters":{"target":{"type":""},"source":{"type":""}},"src":"\t\ttarget.setAttribute(\"style\", source.getAttribute(\"style\")); \n\t}else{\n\t\ttarget.style.cssText = source.style.cssText; \n\t}\n\tdojo.html.addClass(target, dojo.html.getClass(source));"}}},"dojo.html.getUnitValue":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""},"autoIsZero":{"type":""}},"src":"\tvar s = dojo.html.getComputedStyle(node, cssSelector);\n\tif((!s)||((s == 'auto')&&(autoIsZero))){ return { value: 0, units: 'px' }; }\n\t\/\/ FIXME: is regex inefficient vs. parseInt or some manual test? \n\tvar match = s.match(\/(\\-?[\\d.]+)([a-z%]*)\/i);\n\tif (!match){return dojo.html.getUnitValue.bad;}\n\treturn { value: Number(match[1]), units: match[2].toLowerCase() };"}}},"dojo.html.getPixelValue":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"cssSelector":{"type":""},"autoIsZero":{"type":""}},"src":"\tvar result = dojo.html.getUnitValue(node, cssSelector, autoIsZero);\n\t\/\/ FIXME: there is serious debate as to whether or not this is the right solution\n\tif(isNaN(result.value)){ return 0; }\n\t\/\/ FIXME: code exists for converting other units to px (see Dean Edward's IE7) \n\t\/\/ but there are cross-browser complexities\n\tif((result.value)&&(result.units != 'px')){ return NaN; }\n\treturn result.value;"}}},"dojo.html.setPositivePixelValue":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"selector":{"type":""},"value":{"type":""}},"src":"\tif(isNaN(value)){return false;}\n\tnode.style[selector] = Math.max(0, value) + 'px'; \n\treturn true;"}}},"dojo.html.insertCssRule":{"_":{"meta":{"summary":"","parameters":{"selector":{"type":""},"declaration":{"type":""},"index":{"type":""}},"src":"\tif (!dojo.html.styleSheet) {\n\t\tif (document.createStyleSheet) { \/\/ IE\n\t\t\tdojo.html.styleSheet = document.createStyleSheet();\n\t\t} else if (document.styleSheets[0]) { \/\/ rest\n\t\t\t\/\/ FIXME: should create a new style sheet here\n\t\t\t\/\/ fall back on an exsiting style sheet\n\t\t\tdojo.html.styleSheet = document.styleSheets[0];\n\t\t} else { return null; } \/\/ fail\n\t}\n\n\tif (arguments.length < 3) { \/\/ index may == 0\n\t\tif (dojo.html.styleSheet.cssRules) { \/\/ W3\n\t\t\tindex = dojo.html.styleSheet.cssRules.length;\n\t\t} else if (dojo.html.styleSheet.rules) { \/\/ IE\n\t\t\tindex = dojo.html.styleSheet.rules.length;\n\t\t} else { return null; } \/\/ fail\n\t}\n\n\tif (dojo.html.styleSheet.insertRule) { \/\/ W3\n\t\tvar rule = selector + \" { \" + declaration + \" }\";\n\t\treturn dojo.html.styleSheet.insertRule(rule, index);\n\t} else if (dojo.html.styleSheet.addRule) { \/\/ IE\n\t\treturn dojo.html.styleSheet.addRule(selector, declaration, index);\n\t} else { return null; } \/\/ fail","returns":"fail"}}},"dojo.html.removeCssRule":{"_":{"meta":{"summary":"","parameters":{"index":{"type":""}},"src":"\tif(!dojo.html.styleSheet){\n\t\tdojo.debug(\"no stylesheet defined for removing rules\");\n\t\treturn false;\n\t}\n\tif(dojo.html.render.ie){\n\t\tif(!index){\n\t\t\tindex = dojo.html.styleSheet.rules.length;\n\t\t\tdojo.html.styleSheet.removeRule(index);\n\t\t}\n\t}else if(document.styleSheets[0]){\n\t\tif(!index){\n\t\t\tindex = dojo.html.styleSheet.cssRules.length;\n\t\t}\n\t\tdojo.html.styleSheet.deleteRule(index);\n\t}\n\treturn true;"}}},"dojo.html.insertCssFile":{"_":{"meta":{"summary":"","parameters":{"URI":{"type":""},"doc":{"type":""},"checkDuplicates":{"type":""}},"src":"\tif(!URI){ return; }\n\tif(!doc){ doc = document; }\n\tvar cssStr = dojo.hostenv.getText(URI);\n\tcssStr = dojo.html.fixPathsInCssText(cssStr, URI);\n\n\tif(checkDuplicates){\n\t\tvar idx = -1, node, ent = dojo.html._insertedCssFiles;\n\t\tfor(var i = 0; i < ent.length; i++){\n\t\t\tif((ent[i].doc == doc) && (ent[i].cssText == cssStr)){\n\t\t\t\tidx = i; node = ent[i].nodeRef;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\/\/ make sure we havent deleted our node\n\t\tif(node){\n\t\t\tvar styles = doc.getElementsByTagName(\"style\");\n\t\t\tfor(var i = 0; i < styles.length; i++){\n\t\t\t\tif(styles[i] == node){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\/\/ delete this entry\n\t\t\tdojo.html._insertedCssFiles.shift(idx, 1);\n\t\t}\n\t}\n\n\tvar style = dojo.html.insertCssText(cssStr);\n\tdojo.html._insertedCssFiles.push({'doc': doc, 'cssText': cssStr, 'nodeRef': style});\n\n\t\/\/ insert custom attribute ex dbgHref=\"..\/foo.css\" usefull when debugging in DOM inspectors, no?\n\tif(style && djConfig.isDebug){\n\t\tstyle.setAttribute(\"dbgHref\", URI);\n\t}\n\treturn style;"}}},"dojo.html.insertCssText":{"_":{"meta":{"summary":"","parameters":{"cssStr":{"type":""},"doc":{"type":""},"URI":{"type":""}},"src":"\tif(!cssStr){ return; }\n\tif(!doc){ doc = document; }\n\tif(URI){\/\/ fix paths in cssStr\n\t\tcssStr = dojo.html.fixPathsInCssText(cssStr, URI);\n\t}\n\tvar style = doc.createElement(\"style\");\n\tstyle.setAttribute(\"type\", \"text\/css\");\n\t\/\/ IE is b0rken enough to require that we add the element to the doc\n\t\/\/ before changing it's properties\n\tvar head = doc.getElementsByTagName(\"head\")[0];\n\tif(!head){ \/\/ must have a head tag \n\t\tdojo.debug(\"No head tag in document, aborting styles\");\n\t\treturn;\n\t}else{\n\t\thead.appendChild(style);\n\t}\n\tif(style.styleSheet){\/\/ IE\n\t\tstyle.styleSheet.cssText = cssStr;\n\t}else{ \/\/ w3c\n\t\tvar cssText = doc.createTextNode(cssStr);\n\t\tstyle.appendChild(cssText);\n\t}\n\treturn style;"}}},"dojo.html.fixPathsInCssText":{"_":{"meta":{"summary":"","parameters":{"cssStr":{"type":""},"URI":{"type":""}},"src":"\tif(!cssStr || !URI){ return; }\n\tvar match, str = \"\", url = \"\";\n\tvar regex = \/url\\(\\s*([\\t\\s\\w()\\\/.\\\\'\"-:#=&?]+)\\s*\\)\/;\n\tvar regexProtocol = \/(file|https?|ftps?):\\\/\\\/\/;\n\tvar regexTrim = \/^[\\s]*(['\"]?)([\\w()\\\/.\\\\'\"-:#=&?]*)\\1[\\s]*?$\/;\n\twhile(match = regex.exec(cssStr)){\n\t\turl = match[1].replace(regexTrim, \"$2\");\n\t\tif(!regexProtocol.exec(url)){\n\t\t\turl = (new dojo.uri.Uri(URI, url).toString());\n\t\t}\n\t\tstr += cssStr.substring(0, match.index) + \"url(\" + url + \")\";\n\t\tcssStr = cssStr.substr(match.index + match[0].length);\n\t}\n\treturn str + cssStr;"}}},"dojo.html.setActiveStyleSheet":{"_":{"meta":{"summary":"","parameters":{"title":{"type":""}},"src":"\tvar i = 0, a, els = dojo.doc().getElementsByTagName(\"link\");\n\twhile (a = els[i++]) {\n\t\tif(a.getAttribute(\"rel\").indexOf(\"style\") != -1 && a.getAttribute(\"title\")){\n\t\t\ta.disabled = true;\n\t\t\tif (a.getAttribute(\"title\") == title) { a.disabled = false; }\n\t\t}\n\t}"}}},"dojo.html.getActiveStyleSheet":{"_":{"meta":{"summary":"","src":"\tvar i = 0, a, els = dojo.doc().getElementsByTagName(\"link\");\n\twhile (a = els[i++]) {\n\t\tif (a.getAttribute(\"rel\").indexOf(\"style\") != -1 &&\n\t\t\ta.getAttribute(\"title\") && !a.disabled) { return a.getAttribute(\"title\"); }\n\t}\n\treturn null;"}}},"dojo.html.getPreferredStyleSheet":{"_":{"meta":{"summary":"","src":"\tvar i = 0, a, els = dojo.doc().getElementsByTagName(\"link\");\n\twhile (a = els[i++]) {\n\t\tif(a.getAttribute(\"rel\").indexOf(\"style\") != -1\n\t\t\t&& a.getAttribute(\"rel\").indexOf(\"alt\") == -1\n\t\t\t&& a.getAttribute(\"title\")) { return a.getAttribute(\"title\"); }\n\t}\n\treturn null;"}}},"dojo.html.applyBrowserClass":{"_":{"meta":{"summary":"","parameters":{"node":{"type":"HTMLElement"}},"src":"\twith (dojo.render.html) {\n\t\tvar classes = {\n\t\t\tb_ie: ie,\n\t\t\tb_ie55: ie55,\n\t\t\tb_ie6: ie60,\n\t\t\tb_ie7: ie70,\n\t\t\tb_iequirks: ie && quirks,\n\t\t\tb_opera: opera,\n\t\t\tb_khtml: khtml,\n\t\t\tb_safari: safari,\n\t\t\tb_gecko: mozilla\n\t\t}; \/\/ no dojo unsupported browsers\n\t}\n\tfor(var p in classes){\n\t\tif(classes[p]){\n\t\t\tdojo.html.addClass(node, p);\n\t\t\treturn;\n\t\t}\n\t}"}}}}}},"dojo.html.util":{"meta":{"requires":{"common":["dojo.html.layout"]},"functions":{"dojo.html.getElementWindow":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""}},"src":"\treturn dojo.html.getDocumentWindow( element.ownerDocument );"}}},"dojo.html.getDocumentWindow":{"_":{"meta":{"summary":"","parameters":{"doc":{"type":""}},"src":"\t\t\/*\n\t\t\tThis is a Safari specific function that fix the reference to the parent\n\t\t\twindow from the document object.\n\t\t*\/\n\t\n\t\tvar fix=function(win){\n\t\t\twin.document._parentWindow=win;\n\t\t\tfor(var i=0; i<win.frames.length; i++){\n\t\t\t\tfix(win.frames[i]);\n\t\t\t}\n\t\t}\n\t\tfix(window.top);\n\t}\n\n\t\/\/In some IE versions (at least 6.0), document.parentWindow does not return a \n\t\/\/reference to the real window object (maybe a copy), so we must fix it as well\n\t\/\/We use IE specific execScript to attach the real window reference to \n\t\/\/document._parentWindow for later use\n\tif(dojo.render.html.ie && window !== document.parentWindow && !doc._parentWindow){\n\t\t\/*\n\t\tIn IE 6, only the variable \"window\" can be used to connect events (others\n\t\tmay be only copies). \n\t\t*\/\n\t\tdoc.parentWindow.execScript(\"document._parentWindow = window;\", \"Javascript\");\n\t\t\/\/to prevent memory leak, unset it after use\n\t\t\/\/another possibility is to add an onUnload handler which seems overkill to me (liucougar)\n\t\tvar win = doc._parentWindow;\n\t\tdoc._parentWindow = null;\n\t\treturn win;\n\t}\n\n\treturn doc._parentWindow || doc.parentWindow || doc.defaultView;"}}},"dojo.html.gravity":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"e":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar mouse = dojo.html.getCursorPosition(e);\n\n\twith (dojo.html) {\n\t\tvar absolute = getAbsolutePosition(node, true);\n\t\tvar bb = getBorderBox(node);\n\t\tvar nodecenterx = absolute.x + (bb.width \/ 2);\n\t\tvar nodecentery = absolute.y + (bb.height \/ 2);\n\t}\n\t\n\twith (dojo.html.gravity) {\n\t\treturn ((mouse.x < nodecenterx ? WEST : EAST) |\n\t\t\t(mouse.y < nodecentery ? NORTH : SOUTH));\n\t}"}}},"dojo.html.overElement":{"_":{"meta":{"summary":"","parameters":{"element":{"type":""},"e":{"type":""}},"src":"\telement = dojo.byId(element);\n\tvar mouse = dojo.html.getCursorPosition(e);\n\n\twith(dojo.html){\n\t\tvar bb = getBorderBox(element);\n\t\tvar absolute = getAbsolutePosition(element, true);\n\t\tvar top = absolute.y;\n\t\tvar bottom = top + bb.height;\n\t\tvar left = absolute.x;\n\t\tvar right = left + bb.width;\n\t}\n\t\n\treturn (mouse.x >= left && mouse.x <= right &&\n\t\tmouse.y >= top && mouse.y <= bottom);"}}},"dojo.html.renderedTextContent":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tnode = dojo.byId(node);\n\tvar result = \"\";\n\tif (node == null) { return result; }\n\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\tswitch (node.childNodes[i].nodeType) {\n\t\t\tcase 1: \/\/ ELEMENT_NODE\n\t\t\tcase 5: \/\/ ENTITY_REFERENCE_NODE\n\t\t\t\tvar display = \"unknown\";\n\t\t\t\ttry {\n\t\t\t\t\tdisplay = dojo.html.getStyle(node.childNodes[i], \"display\");\n\t\t\t\t} catch(E) {}\n\t\t\t\tswitch (display) {\n\t\t\t\t\tcase \"block\": case \"list-item\": case \"run-in\":\n\t\t\t\t\tcase \"table\": case \"table-row-group\": case \"table-header-group\":\n\t\t\t\t\tcase \"table-footer-group\": case \"table-row\": case \"table-column-group\":\n\t\t\t\t\tcase \"table-column\": case \"table-cell\": case \"table-caption\":\n\t\t\t\t\t\t\/\/ TODO: this shouldn't insert double spaces on aligning blocks\n\t\t\t\t\t\tresult += \"\\n\";\n\t\t\t\t\t\tresult += dojo.html.renderedTextContent(node.childNodes[i]);\n\t\t\t\t\t\tresult += \"\\n\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"none\": break;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(node.childNodes[i].tagName && node.childNodes[i].tagName.toLowerCase() == \"br\") {\n\t\t\t\t\t\t\tresult += \"\\n\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult += dojo.html.renderedTextContent(node.childNodes[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3: \/\/ TEXT_NODE\n\t\t\tcase 2: \/\/ ATTRIBUTE_NODE\n\t\t\tcase 4: \/\/ CDATA_SECTION_NODE\n\t\t\t\tvar text = node.childNodes[i].nodeValue;\n\t\t\t\tvar textTransform = \"unknown\";\n\t\t\t\ttry {\n\t\t\t\t\ttextTransform = dojo.html.getStyle(node, \"text-transform\");\n\t\t\t\t} catch(E) {}\n\t\t\t\tswitch (textTransform){\n\t\t\t\t\tcase \"capitalize\":\n\t\t\t\t\t\tvar words = text.split(' ');\n\t\t\t\t\t\tfor(var i=0; i<words.length; i++){\n\t\t\t\t\t\t\twords[i] = words[i].charAt(0).toUpperCase() + words[i].substring(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext = words.join(\" \");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"uppercase\": text = text.toUpperCase(); break;\n\t\t\t\t\tcase \"lowercase\": text = text.toLowerCase(); break;\n\t\t\t\t\tdefault: break; \/\/ leave as is\n\t\t\t\t}\n\t\t\t\t\/\/ TODO: implement\n\t\t\t\tswitch (textTransform){\n\t\t\t\t\tcase \"nowrap\": break;\n\t\t\t\t\tcase \"pre-wrap\": break;\n\t\t\t\t\tcase \"pre-line\": break;\n\t\t\t\t\tcase \"pre\": break; \/\/ leave as is\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t\/\/ remove whitespace and collapse first space\n\t\t\t\t\t\ttext = text.replace(\/\\s+\/, \" \");\n\t\t\t\t\t\tif (\/\\s$\/.test(result)) { text.replace(\/^\\s\/, \"\"); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult += text;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;"}}},"dojo.html.createNodesFromText":{"_":{"meta":{"summary":"","parameters":{"txt":{"type":""},"trim":{"type":""}},"src":"\tif(trim) { txt = txt.replace(\/^\\s+|\\s+$\/g, \"\"); }\n\n\tvar tn = dojo.doc().createElement(\"div\");\n\t\/\/ tn.style.display = \"none\";\n\ttn.style.visibility= \"hidden\";\n\tdojo.body().appendChild(tn);\n\tvar tableType = \"none\";\n\tif((\/^<t[dh][\\s\\r\\n>]\/i).test(txt.replace(\/^\\s+\/))) {\n\t\ttxt = \"<table><tbody><tr>\" + txt + \"<\/tr><\/tbody><\/table>\";\n\t\ttableType = \"cell\";\n\t} else if((\/^<tr[\\s\\r\\n>]\/i).test(txt.replace(\/^\\s+\/))) {\n\t\ttxt = \"<table><tbody>\" + txt + \"<\/tbody><\/table>\";\n\t\ttableType = \"row\";\n\t} else if((\/^<(thead|tbody|tfoot)[\\s\\r\\n>]\/i).test(txt.replace(\/^\\s+\/))) {\n\t\ttxt = \"<table>\" + txt + \"<\/table>\";\n\t\ttableType = \"section\";\n\t}\n\ttn.innerHTML = txt;\n\tif(tn[\"normalize\"]){\n\t\ttn.normalize();\n\t}\n\n\tvar parent = null;\n\tswitch(tableType) {\n\t\tcase \"cell\":\n\t\t\tparent = tn.getElementsByTagName(\"tr\")[0];\n\t\t\tbreak;\n\t\tcase \"row\":\n\t\t\tparent = tn.getElementsByTagName(\"tbody\")[0];\n\t\t\tbreak;\n\t\tcase \"section\":\n\t\t\tparent = tn.getElementsByTagName(\"table\")[0];\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tparent = tn;\n\t\t\tbreak;\n\t}\n\n\t\/* this doesn't make much sense, I'm assuming it just meant trim() so wrap was replaced with trim\n\tif(wrap){ \n\t\tvar ret = [];\n\t\t\/\/ start hack\n\t\tvar fc = tn.firstChild;\n\t\tret[0] = ((fc.nodeValue == \" \")||(fc.nodeValue == \"\\t\")) ? fc.nextSibling : fc;\n\t\t\/\/ end hack\n\t\t\/\/ tn.style.display = \"none\";\n\t\tdojo.body().removeChild(tn);\n\t\treturn ret;\n\t}\n\t*\/\n\tvar nodes = [];\n\tfor(var x=0; x<parent.childNodes.length; x++){\n\t\tnodes.push(parent.childNodes[x].cloneNode(true));\n\t}\n\ttn.style.display = \"none\"; \/\/ FIXME: why do we do this?\n\tdojo.body().removeChild(tn);\n\treturn nodes;"}}},"dojo.html.placeOnScreen":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"desiredX":{"type":""},"desiredY":{"type":""},"padding":{"type":""},"hasScroll":{"type":""},"corners":{"type":""},"tryOnly":{"type":""}},"src":"\tif(desiredX instanceof Array || typeof desiredX == \"array\") {\n\t\ttryOnly = corners;\n\t\tcorners = hasScroll;\n\t\thasScroll = padding;\n\t\tpadding = desiredY;\n\t\tdesiredY = desiredX[1];\n\t\tdesiredX = desiredX[0];\n\t}\n\n\tif(corners instanceof String || typeof corners == \"string\"){\n\t\tcorners = corners.split(\",\");\n\t}\n\n\tif(!isNaN(padding)) {\n\t\tpadding = [Number(padding), Number(padding)];\n\t} else if(!(padding instanceof Array || typeof padding == \"array\")) {\n\t\tpadding = [0, 0];\n\t}\n\n\tvar scroll = dojo.html.getScroll().offset;\n\tvar view = dojo.html.getViewport();\n\n\tnode = dojo.byId(node);\n\tvar oldDisplay = node.style.display;\n\tnode.style.display=\"\";\n\tvar bb = dojo.html.getBorderBox(node);\n\tvar w = bb.width;\n\tvar h = bb.height;\n\tnode.style.display=oldDisplay;\n\n\tif(!(corners instanceof Array || typeof corners == \"array\")){\n\t\tcorners = ['TL'];\n\t}\n\t\n\tvar bestx, besty, bestDistance = Infinity;\n\n\tfor(var cidex=0; cidex<corners.length; ++cidex){\n\t\tvar corner = corners[cidex];\n\t\tvar match = true;\n\t\tvar tryX = desiredX - (corner.charAt(1)=='L' ? 0 : w) + padding[0] * (corner.charAt(1)=='L' ? 1 : -1);\n\t\tvar tryY = desiredY - (corner.charAt(0)=='T' ? 0 : h) + padding[1] * (corner.charAt(0)=='T' ? 1 : -1);\n\t\tif(hasScroll) {\n\t\t\ttryX -= scroll.x;\n\t\t\ttryY -= scroll.y;\n\t\t}\n\t\n\t\tvar x = tryX + w;\n\t\tif(x > view.width) {\n\t\t\tx = view.width - w;\n\t\t\tmatch = false;\n\t\t} else {\n\t\t\tx = tryX;\n\t\t}\n\t\tx = Math.max(padding[0], x) + scroll.x;\n\t\n\t\tvar y = tryY + h;\n\t\tif(y > view.height) {\n\t\t\ty = view.height - h;\n\t\t\tmatch = false;\n\t\t} else {\n\t\t\ty = tryY;\n\t\t}\n\t\ty = Math.max(padding[1], y) + scroll.y;\n\n\t\tif(match){ \/\/perfect match, return now\n\t\t\tbestx = x;\n\t\t\tbesty = y;\n\t\t\tbestDistance = 0;\n\t\t\tbreak;\n\t\t}else{\n\t\t\t\/\/not perfect, find out whether it is better than the saved one\n\t\t\tvar dist = Math.pow(x-tryX-scroll.x,2)+Math.pow(y-tryY-scroll.y,2);\n\t\t\tif(bestDistance > dist){\n\t\t\t\tbestDistance = dist;\n\t\t\t\tbestx = x;\n\t\t\t\tbesty = y;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!tryOnly){\n\t\tnode.style.left = bestx + \"px\";\n\t\tnode.style.top = besty + \"px\";\n\t}\n\t\n\treturn { left: bestx, top: besty, x: bestx, y: besty, dist: bestDistance };"}}},"dojo.html.placeOnScreenPoint":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"desiredX":{"type":""},"desiredY":{"type":""},"padding":{"type":""},"hasScroll":{"type":""}},"src":"\tdojo.deprecated(\"dojo.html.placeOnScreenPoint\", \"use dojo.html.placeOnScreen() instead\", \"0.5\");\n\treturn dojo.html.placeOnScreen(node, desiredX, desiredY, padding, hasScroll, ['TL', 'TR', 'BL', 'BR']);"}}},"dojo.html.placeOnScreenAroundElement":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""},"aroundNode":{"type":""},"padding":{"type":""},"aroundType":{"type":""},"aroundCorners":{"type":""},"tryOnly":{"type":""}},"src":"\tvar best, bestDistance=Infinity;\n\taroundNode = dojo.byId(aroundNode);\n\tvar oldDisplay = aroundNode.style.display;\n\taroundNode.style.display=\"\";\n\tvar mb = dojo.html.getElementBox(aroundNode, aroundType);\n\tvar aroundNodeW = mb.width;\n\tvar aroundNodeH = mb.height;\n\tvar aroundNodePos = dojo.html.getAbsolutePosition(aroundNode, true, aroundType);\n\taroundNode.style.display=oldDisplay;\n\t\n\tfor(var nodeCorner in aroundCorners){\n\t\tvar pos, desiredX, desiredY;\n\t\tvar corners = aroundCorners[nodeCorner];\n\n\t\tdesiredX = aroundNodePos.x + (nodeCorner.charAt(1)=='L' ? 0 : aroundNodeW);\n\t\tdesiredY = aroundNodePos.y + (nodeCorner.charAt(0)=='T' ? 0 : aroundNodeH);\n\n\t\tpos = dojo.html.placeOnScreen(node, desiredX, desiredY, padding, true, corners, true);\n\t\tif(pos.dist == 0){\n\t\t\tbest = pos;\n\t\t\tbreak;\n\t\t}else{\n\t\t\t\/\/not perfect, find out whether it is better than the saved one\n\t\t\tif(bestDistance > pos.dist){\n\t\t\t\tbestDistance = pos.dist;\n\t\t\t\tbest = pos;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(!tryOnly){\n\t\tnode.style.left = best.left + \"px\";\n\t\tnode.style.top = best.top + \"px\";\n\t}\n\treturn best;"}}},"dojo.html.scrollIntoView":{"_":{"meta":{"summary":"","parameters":{"node":{"type":""}},"src":"\tif(!node){ return; }\n\t\n\t\/\/ don't rely on that node.scrollIntoView works just because the function is there\n\t\/\/ it doesnt work in Konqueror or Opera even though the function is there and probably\n\t\/\/ not safari either\n\t\/\/ dont like browser sniffs implementations but sometimes you have to use it\n\tif(dojo.render.html.ie){\n\t\t\/\/only call scrollIntoView if there is a scrollbar for this menu,\n\t\t\/\/otherwise, scrollIntoView will scroll the window scrollbar\n\t\tif(dojo.html.getBorderBox(node.parentNode).height < node.parentNode.scrollHeight){\n\t\t\tnode.scrollIntoView(false);\n\t\t}\n\t}else if(dojo.render.html.mozilla){\n\t\t\/\/ IE, mozilla\n\t\tnode.scrollIntoView(false);\n\t}else{\n\t\tvar parent = node.parentNode;\n\t\tvar parentBottom = parent.scrollTop + dojo.html.getBorderBox(parent).height;\n\t\tvar nodeBottom = node.offsetTop + dojo.html.getMarginBox(node).height;\n\t\tif(parentBottom < nodeBottom){\n\t\t\tparent.scrollTop += (nodeBottom - parentBottom);\n\t\t}else if(parent.scrollTop > node.offsetTop){\n\t\t\tparent.scrollTop -= (parent.scrollTop - node.offsetTop);\n\t\t}\n\t}"}}}}}},"dojo.html":{"meta":{"requires":{"common":["dojo.html.*"]}}}}