{"dojo.uri.Uri":{"meta":{"functions":{"dojo.uri":{"meta":{"initialized":true,"summary":"","src":" this.dojoUri = function (\/*dojo.uri.Uri||String*\/uri) {\n\t\t\/\/ summary: returns a Uri object resolved relative to the dojo root\n\t\treturn new dojo.uri.Uri(dojo.hostenv.getBaseScriptUri(), uri);\n\t}\n\tthis.moduleUri = function(\/*String*\/module, \/*dojo.uri.Uri||String*\/uri){\n\t\t\/\/ summary: returns a Uri object relative to a module\n\t\t\/\/ description: Examples: dojo.uri.moduleUri(\"dojo\",\"Editor\"), or dojo.uri.moduleUri(\"acme\",\"someWidget\")\n\t\tvar loc = dojo.hostenv.getModuleSymbols(module).join('\/');\n\t\t\/\/var loc = dojo.hostenv.getModulePrefix(module);\n\t\tif(!loc){return null;}\n\t\tif(loc.lastIndexOf(\"\/\") != loc.length-1){loc += \"\/\";}\n\t\treturn new dojo.uri.Uri(dojo.hostenv.getBaseScriptUri()+loc,uri);\n\t}\n\tthis.Uri = function (\/*dojo.uri.Uri||String...*\/) {\n\t\t\/\/ summary: Constructor to create an object representing a URI.\n\t\t\/\/ description: \n\t\t\/\/  Each argument is evaluated in order relative to the next until\n\t\t\/\/  a canonical uri is produced. To get an absolute Uri relative\n\t\t\/\/  to the current document use\n\t\t\/\/      new dojo.uri.Uri(document.baseURI, uri)\n\t\t\/\/ TODO: support for IPv6, see RFC 2732\n\t\t\/\/ resolve uri components relative to each other\n\t\tvar uri = arguments[0];\n\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\tif(!arguments[i]) { continue; }\n\t\t\t\/\/ Safari doesn't support this.constructor so we have to be explicit\n\t\t\tvar relobj = new dojo.uri.Uri(arguments[i].toString());\n\t\t\tvar uriobj = new dojo.uri.Uri(uri.toString());\n\t\t\tif ((relobj.path==\"\")&&(relobj.scheme==null)&&(relobj.authority==null)&&(relobj.query==null)) {\n\t\t\t\tif (relobj.fragment != null) { uriobj.fragment = relobj.fragment; }\n\t\t\t\trelobj = uriobj;\n\t\t\t} else if (relobj.scheme == null) {\n\t\t\t\trelobj.scheme = uriobj.scheme;\n\t\t\t\tif (relobj.authority == null) {\n\t\t\t\t\trelobj.authority = uriobj.authority;\n\t\t\t\t\tif (relobj.path.charAt(0) != \"\/\") {\n\t\t\t\t\t\tvar path = uriobj.path.substring(0,\n\t\t\t\t\t\t\turiobj.path.lastIndexOf(\"\/\") + 1) + relobj.path;\n\t\t\t\t\t\tvar segs = path.split(\"\/\");\n\t\t\t\t\t\tfor (var j = 0; j < segs.length; j++) {\n\t\t\t\t\t\t\tif (segs[j] == \".\") {\n\t\t\t\t\t\t\t\tif (j == segs.length - 1) { segs[j] = \"\"; }\n\t\t\t\t\t\t\t\telse { segs.splice(j, 1); j--; }\n\t\t\t\t\t\t\t} else if (j > 0 && !(j == 1 && segs[0] == \"\") &&\n\t\t\t\t\t\t\t\tsegs[j] == \"..\" && segs[j-1] != \"..\") {\n\t\t\t\t\t\t\t\tif (j == segs.length - 1) { segs.splice(j, 1); segs[j - 1] = \"\"; }\n\t\t\t\t\t\t\t\telse { segs.splice(j - 1, 2); j -= 2; }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trelobj.path = segs.join(\"\/\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\turi = \"\";\n\t\t\tif (relobj.scheme != null) { uri += relobj.scheme + \":\"; }\n\t\t\tif (relobj.authority != null) { uri += \"\/\/\" + relobj.authority; }\n\t\t\turi += relobj.path;\n\t\t\tif (relobj.query != null) { uri += \"?\" + relobj.query; }\n\t\t\tif (relobj.fragment != null) { uri += \"#\" + relobj.fragment; }\n\t\t}\n\t\tthis.uri = uri.toString();\n\t\t\/\/ break the uri into its main components\n\t\tvar regexp = \"^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\";\n\t\tvar r = this.uri.match(new RegExp(regexp));\n\t\tthis.scheme = r[2] || (r[1] ? \"\" : null);\n\t\tthis.authority = r[4] || (r[3] ? \"\" : null);\n\t\tthis.path = r[5]; \/\/ can never be undefined\n\t\tthis.query = r[7] || (r[6] ? \"\" : null);\n\t\tthis.fragment  = r[9] || (r[8] ? \"\" : null);\n\t\tif (this.authority != null) {\n\t\t\t\/\/ server based naming authority\n\t\t\tregexp = \"^((([^:]+:)?([^@]+))@)?([^:]*)(:([0-9]+))?$\";\n\t\t\tr = this.authority.match(new RegExp(regexp));\n\t\t\tthis.user = r[3] || null;\n\t\t\tthis.password = r[4] || null;\n\t\t\tthis.host = r[5];\n\t\t\tthis.port = r[7] || null;\n\t\t}\n\t\tthis.toString = function(){ return this.uri; }\n\t}","instance_variables":["dojoUri","moduleUri","Uri","uri","scheme","authority","path","query","fragment","user","password","host","port","toString"]}},"dojo.uri.dojoUri":{"meta":{"summary":"returns a Uri object resolved relative to the dojo root","parameters":{"uri":{"type":"dojo.uri.Uri||String"}},"src":" \treturn new dojo.uri.Uri(dojo.hostenv.getBaseScriptUri(), uri);","instance":"dojo.uri"}},"dojo.uri.moduleUri":{"meta":{"summary":"returns a Uri object relative to a module","parameters":{"module":{"type":"String"},"uri":{"type":"dojo.uri.Uri||String"}},"src":" \tvar loc = dojo.hostenv.getModuleSymbols(module).join('\/');\n\t\t\/\/var loc = dojo.hostenv.getModulePrefix(module);\n\t\tif(!loc){return null;}\n\t\tif(loc.lastIndexOf(\"\/\") != loc.length-1){loc += \"\/\";}\n\t\treturn new dojo.uri.Uri(dojo.hostenv.getBaseScriptUri()+loc,uri);","description":"Examples: dojo.uri.moduleUri(\"dojo\",\"Editor\"), or dojo.uri.moduleUri(\"acme\",\"someWidget\")","instance":"dojo.uri"}},"dojo.uri.Uri":{"meta":{"summary":"Constructor to create an object representing a URI.","src":"\t\t\/\/ TODO: support for IPv6, see RFC 2732\n\t\t\/\/ resolve uri components relative to each other\n\t\tvar uri = arguments[0];\n\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\tif(!arguments[i]) { continue; }\n\t\t\t\/\/ Safari doesn't support this.constructor so we have to be explicit\n\t\t\tvar relobj = new dojo.uri.Uri(arguments[i].toString());\n\t\t\tvar uriobj = new dojo.uri.Uri(uri.toString());\n\t\t\tif ((relobj.path==\"\")&&(relobj.scheme==null)&&(relobj.authority==null)&&(relobj.query==null)) {\n\t\t\t\tif (relobj.fragment != null) { uriobj.fragment = relobj.fragment; }\n\t\t\t\trelobj = uriobj;\n\t\t\t} else if (relobj.scheme == null) {\n\t\t\t\trelobj.scheme = uriobj.scheme;\n\t\t\t\tif (relobj.authority == null) {\n\t\t\t\t\trelobj.authority = uriobj.authority;\n\t\t\t\t\tif (relobj.path.charAt(0) != \"\/\") {\n\t\t\t\t\t\tvar path = uriobj.path.substring(0,\n\t\t\t\t\t\t\turiobj.path.lastIndexOf(\"\/\") + 1) + relobj.path;\n\t\t\t\t\t\tvar segs = path.split(\"\/\");\n\t\t\t\t\t\tfor (var j = 0; j < segs.length; j++) {\n\t\t\t\t\t\t\tif (segs[j] == \".\") {\n\t\t\t\t\t\t\t\tif (j == segs.length - 1) { segs[j] = \"\"; }\n\t\t\t\t\t\t\t\telse { segs.splice(j, 1); j--; }\n\t\t\t\t\t\t\t} else if (j > 0 && !(j == 1 && segs[0] == \"\") &&\n\t\t\t\t\t\t\t\tsegs[j] == \"..\" && segs[j-1] != \"..\") {\n\t\t\t\t\t\t\t\tif (j == segs.length - 1) { segs.splice(j, 1); segs[j - 1] = \"\"; }\n\t\t\t\t\t\t\t\telse { segs.splice(j - 1, 2); j -= 2; }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trelobj.path = segs.join(\"\/\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\turi = \"\";\n\t\t\tif (relobj.scheme != null) { uri += relobj.scheme + \":\"; }\n\t\t\tif (relobj.authority != null) { uri += \"\/\/\" + relobj.authority; }\n\t\t\turi += relobj.path;\n\t\t\tif (relobj.query != null) { uri += \"?\" + relobj.query; }\n\t\t\tif (relobj.fragment != null) { uri += \"#\" + relobj.fragment; }\n\t\t}\n\t\tthis.uri = uri.toString();\n\t\t\/\/ break the uri into its main components\n\t\tvar regexp = \"^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\";\n\t\tvar r = this.uri.match(new RegExp(regexp));\n\t\tthis.scheme = r[2] || (r[1] ? \"\" : null);\n\t\tthis.authority = r[4] || (r[3] ? \"\" : null);\n\t\tthis.path = r[5]; \/\/ can never be undefined\n\t\tthis.query = r[7] || (r[6] ? \"\" : null);\n\t\tthis.fragment  = r[9] || (r[8] ? \"\" : null);\n\t\tif (this.authority != null) {\n\t\t\t\/\/ server based naming authority\n\t\t\tregexp = \"^((([^:]+:)?([^@]+))@)?([^:]*)(:([0-9]+))?$\";\n\t\t\tr = this.authority.match(new RegExp(regexp));\n\t\t\tthis.user = r[3] || null;\n\t\t\tthis.password = r[4] || null;\n\t\t\tthis.host = r[5];\n\t\t\tthis.port = r[7] || null;\n\t\t}\n\t\tthis.toString = function(){ return this.uri; }","description":"Each argument is evaluated in order relative to the next until a canonical uri is produced. To get an absolute Uri relative to the current document use new dojo.uri.Uri(document.baseURI, uri)","instance":"dojo.uri"}},"dojo.uri.Uri.toString":{"meta":{"summary":"","src":" \tthis.toString = function(){ return this.uri;   ","instance":"dojo.uri.Uri"}},"dojo.uri.toString":{"meta":{"summary":"","src":" \tthis.toString = function(){ return this.uri;   ","instance":"dojo.uri"}}}}}}