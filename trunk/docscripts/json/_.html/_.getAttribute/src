node = dojo.byId(node);
 FIXME: need to add support for attr-specific accessors
if((!node)||(!node.getAttribute)){
	 if(attr !== 'nwType'){
		alert("getAttr of '" + attr + "' with bad node"); 
	 }
	return null;
}
var ta = typeof attr == 'string' ? attr : new String(attr);

 first try the approach most likely to succeed
var v = node.getAttribute(ta.toUpperCase());
if((v)&&(typeof v == 'string')&&(v!="")){ return v; }

 try returning the attributes value, if we couldn't get it as a string
if(v && v.value){ return v.value; }

 this should work on Opera 7, but it's a little on the crashy side
if((node.getAttributeNode)&&(node.getAttributeNode(ta))){
	return (node.getAttributeNode(ta)).value;
}else if(node.getAttribute(ta)){
	return node.getAttribute(ta);
}else if(node.getAttribute(ta.toLowerCase())){
	return node.getAttribute(ta.toLowerCase());
}
return null;