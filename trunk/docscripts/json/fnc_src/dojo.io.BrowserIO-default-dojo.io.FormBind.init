var form = dojo.byId(args.formNode);

if(!form || !form.tagName || form.tagName.toLowerCase() != "form") {
	throw new Error("FormBind: Couldn't apply, invalid form");
} else if(this.form == form) {
	return;
} else if(this.form) {
	throw new Error("FormBind: Already applied to a form");
}

dojo.lang.mixin(this.bindArgs, args);
this.form = form;

this.connect(form, "onsubmit", "submit");

for(var i = 0; i < form.elements.length; i++) {
	var node = form.elements[i];
	if(node && node.type && dojo.lang.inArray(node.type.toLowerCase(), ["submit", "button"])) {
		this.connect(node, "onclick", "click");
	}
}

var inputs = form.getElementsByTagName("input");
for(var i = 0; i < inputs.length; i++) {
	var input = inputs[i];
	if(input.type.toLowerCase() == "image" && input.form == form) {
		this.connect(input, "onclick", "click");
	}
}