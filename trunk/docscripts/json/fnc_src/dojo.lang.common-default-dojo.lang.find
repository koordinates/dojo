if(!dojo.lang.isArrayLike(arr) && dojo.lang.isArrayLike(val)) {
	var a = arr;
	arr = val;
	val = a;
}
var isString = dojo.lang.isString(arr);
if(isString) { arr = arr.split(""); }

if(findLast) {
	var step = -1;
	var i = arr.length - 1;
	var end = -1;
} else {
	var step = 1;
	var i = 0;
	var end = arr.length;
}
if(identity){
	while(i != end) {
		if(arr[i] === val){ return i; }
		i += step;
	}
}else{
	while(i != end) {
		if(arr[i] == val){ return i; }
		i += step;
	}
}
return -1;