var stype = type.split(":");
stype = (stype.length == 2) ? stype[1] : type;
 FIXME: we don't seem to be doing anything with this!
 var propertySets = parser.getPropertySets(frag);
var localProperties = localProps || parser.parseProperties(frag["dojo:"+stype]);
 var tic = new Date();
var twidget = dojo.widget.manager.getImplementation(stype);
if(!twidget){
	throw new Error("cannot find \"" + stype + "\" widget");
}else if (!twidget.create){
	throw new Error("\"" + stype + "\" widget object does not appear to implement *Widget");
}
localProperties["dojoinsertionindex"] = insertionIndex;
 FIXME: we loose no less than 5ms in construction!
var ret = twidget.create(localProperties, frag, parentComp);
 dojo.debug(new Date() - tic);
return ret;