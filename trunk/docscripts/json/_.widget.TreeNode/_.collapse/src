if (!this.isExpanded) return;

this.hideChildren();
this.isExpanded = false;

this.updateExpandIcon();

dojo.event.topic.publish(this.tree.eventNames.collapse, {source: this} );