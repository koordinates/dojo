dojo.deprecated("LayoutPane url parameter.", "use LinkPane to download from a URL", "0.4");
dojo.debug(this.widgetId + " downloading " + url);
var node = this.containerNode || this.domNode;
node.innerHTML = "Loading...";

var extract = this.extractContent;
var parse = this.parseContent;
var self = this;

dojo.io.bind({
	url: url,
	useCache: useCache,
	mimetype: "text/html",
	handler: function(type, data, e) {
		if(type == "load") {
			if(extract) {
				var matches = data.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
				if(matches) { data = matches[1]; }
	}
			node.innerHTML = data;
			if(parse) {
				var parser = new dojo.xml.Parse();
				var frag = parser.parseElement(node, null, true);
				dojo.widget.getParser().createComponents(frag);
			}
			self.onResized();
		} else {
			node.innerHTML = "Error loading '" + url + "' (" + e.status + " " + e.statusText + ")";
		}
	}
});