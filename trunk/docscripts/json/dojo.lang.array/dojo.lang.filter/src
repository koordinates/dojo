var isString = dojo.lang.isString(arr);
if(isString) { arr = arr.split(""); }
if(Array.filter) {
	var outArr = Array.filter(arr, callback, thisObject);
} else {
	if(!thisObject) {
		if(arguments.length >= 3) { dojo.raise("thisObject doesn't exist!"); }
		thisObject = dj_global;
	}

	var outArr = [];
	for(var i = 0; i < arr.length; i++) {
		if(callback.call(thisObject, arr[i], i, arr)) {
			outArr.push(arr[i]);
		}
	}
}
if(isString) {
	return outArr.join("");
} else {
	return outArr;
}