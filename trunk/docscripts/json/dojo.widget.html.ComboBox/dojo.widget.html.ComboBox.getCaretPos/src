if(dojo.render.html.mozilla){
	 FIXME: this is totally borked on Moz < 1.3. Any recourse?
	return element.selectionStart;
}else if(dojo.render.html.ie){
	 in the case of a mouse click in a popup being handled,
	 then the document.selection is not the textarea, but the popup
	 var r = document.selection.createRange();
	 hack to get IE 6 to play nice. What a POS browser.
	var tr = document.selection.createRange().duplicate();
	var ntr = element.createTextRange();
	tr.move("character",0);
	ntr.move("character",0);
	try {
		 If control doesnt have focus, you get an exception.
		 Seems to happen on reverse-tab, but can also happen on tab (seems to be a race condition - only happens sometimes).
		 There appears to be no workaround for this - googled for quite a while.
		ntr.setEndPoint("EndToEnd", tr);
		return String(ntr.text).replace(/\r/g,"").length;
	} catch (e) {
		return 0;  
	}
	
}