dojo.html.clearSelection();

this.dragClone = this.domNode;

this.scrollOffset = {
	top: dojo.html.getScrollTop(),  document.documentElement.scrollTop,
	left: dojo.html.getScrollLeft()  document.documentElement.scrollLeft
};

this.dragStartPosition = {top: dojo.style.getAbsoluteY(this.domNode) ,
	left: dojo.style.getAbsoluteX(this.domNode) };

this.dragOffset = {top: this.dragStartPosition.top - e.clientY,
	left: this.dragStartPosition.left - e.clientX};

if (this.domNode.parentNode.nodeName.toLowerCase() == 'body') {
	this.parentPosition = {top: 0, left: 0};
} else {
	this.parentPosition = {top: dojo.style.getAbsoluteY(this.domNode.parentNode, true),
		left: dojo.style.getAbsoluteX(this.domNode.parentNode,true)};
}

this.dragClone.style.position = "absolute";

if (this.constrainToContainer) {
	this.constraints = this.getConstraints();
}