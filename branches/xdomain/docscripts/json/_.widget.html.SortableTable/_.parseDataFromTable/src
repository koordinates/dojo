this.data=[];
this.selected=[];
var rows=tbody.getElementsByTagName("tr");
for(var i=0; i<rows.length; i++){
	if(dojo.html.getAttribute(rows[i],"ignoreIfParsed")=="true"){
		continue;
	}
	var o={};		new data object.
	var cells=rows[i].getElementsByTagName("td");
	for(var j=0; j<this.columns.length; j++){
		var field=this.columns[j].getField();
		if(this.columns[j].sortType=="__markup__"){
				FIXME: parse this?
			o[field]=cells[j].innerHTML;
		}else{
			var type=this.columns[j].getType();
			var val=dojo.html.renderedTextContent(cells[j]); 	should be the same index as the column.
			if (val) o[field]=new type(val);
			else o[field]=new type();		let it use the default.
		}
	}
	if(dojo.html.hasAttribute(rows[i],"value")&&!o[this.valueField]){
		o[this.valueField]=dojo.html.getAttribute(rows[i],"value");
	}
		FIXME: add code to preserve row attributes in __metadata__ field?
	this.data.push(o);
	
		add it to the selections if selected="true" is present.
	if(dojo.html.getAttribute(rows[i],"selected")=="true"){
		this.selected.push(o);
	}
}